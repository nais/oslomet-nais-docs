<nav class="navbar navbar-expand-lg navbar-light bg-light" role="navigation">
    <div class="container-fluid">

        <!-- Collapsed navigation -->

        {%- if nav|length>1 or (page and (page.next_page or page.previous_page)) or config.repo_url %}
        <!-- Expander button -->
        <!-- 

                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            
            Etter at navbaren funker som den skal er det fint å sjekke om %% er vits å ha eller om collaps classene går greit 

            -->

        <!--Her lages det menu knapp etter at siden minskes-->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        {% endif %}

        <!-- Main title -->

        {% if not config.theme.disable_nav_site_name %}
        {% if config.theme.logo %}
        <a class="navbar-brand" href="{{ nav.homepage.url|url }}">
            <img alt="logo" height="36" alt="Nais-logo" src="{{config.theme.logo|url }}" class="d-inline-block align-text-top"/>
        </a>
        {% else %}
        <a class="navbar-brand" href="{{ nav.homepage.url|url }}">{{ config.site_name }}</a>
        {% endif %}
        {% endif %}


        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse" id="navbarSupportedContent">
            {%- block site_nav %}
            {%- if nav|length>1 %}
            <!-- Main navigation -->
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                {% for nav_item in nav %}
                {% if nav_item.children %}
                <li class="nav-item dropdown{% if nav_item.active %} active{% endif %}">
                    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" id="navbarDropdown"
                        role="button" aria-current="{{ nav_item.title }}" aria-expanded="false">{{ nav_item.title }}</a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                        {% for nav_item in nav_item.children %}
                        {% include "nav-sub.html" %}
                        {% endfor %}
                    </ul>
                </li>
                {% else %}
                <li {% if nav_item.active %}class="active" {% endif %}>
                    <a href="{{ nav_item.url|url }}">{{ nav_item.title }}</a>
                </li>
                {% endif %}
                {% endfor %}
            </ul>
            {%- endif %}
            {%- endblock %}


            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                {%- block search_button %}
                {%- if 'search' in config['plugins'] and not config.theme.disable_nav_search %}
                <form class="bd-search d-flex">
                    <input class="form-control me-2" placeholder="Search" type="search" aria-label="Search">
                    <button class="btn btn-outline-success d-inline-flex gap-md-1" type="submit">
                        <span class="fas fa-search align-self-md-center"></span> Search
                        <!-- 768px fikse slik at iconet holder seg i midten -->
                    </button>
                </form>

                <!--
                    Old code that makes search work with modal
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fas fa-search"></i> Search
                        </a>
                    </li>
                -->

                {%- endif %}
                {%- endblock %}

                {%- block next_prev %}
                {%- if page and (page.next_page or page.previous_page) and not config.theme.disable_nav_previous_next %}
                <li {% if not page.previous_page %}class="nav-item disabled" {% endif %}>
                    <a rel="prev" class="btn nav-link"
                        {% if page.previous_page %}href="{{ page.previous_page.url|url }}" {% endif %}>
                        <span class="fas fa-arrow-left"></span> Previous
                    </a>
                </li>
                <li {% if not page.next_page %}class="nav-item disabled" {% endif %}>
                    <a rel="next" class="btn nav-link" {% if page.next_page %}href="{{ page.next_page.url|url }}"
                        {% endif %}>
                        Next <span class="fas fa-arrow-right"></span>
                    </a>
                </li>
                {%- endif %}
                {%- endblock %}

                {%- block repo %}
                {%- if page and page.edit_url %}
                <li class="nav-item">
                    <a href="{{ page.edit_url }}" class="btn nav-link">
                        {%- if config.repo_name == 'GitHub' -%}
                        <span class="fab fa-github"></span> Edit on {{ config.repo_name }}
                        {%- elif config.repo_name == 'Bitbucket' -%}
                        <span class="fab fa-bitbucket"></span> Edit on {{ config.repo_name }}
                        {%- elif config.repo_name == 'GitLab' -%}
                        <span class="fab fa-gitlab"></span> Edit on {{ config.repo_name }}
                        {%- else -%}
                        Edit on {{ config.repo_name }}
                        {%- endif -%}
                    </a>
                </li>
                {%- elif config.repo_url %}
                <li class="nav-item">
                    <a href="{{ config.repo_url }}" class="btn nav-link">
                        {%- if config.repo_name == 'GitHub' -%}
                        <span class="fab fa-github"></span> {{ config.repo_name }}
                        {%- elif config.repo_name == 'Bitbucket' -%}
                        <span class="fab fa-bitbucket"></span> {{ config.repo_name }}
                        {%- elif config.repo_name == 'GitLab' -%}
                        <span class="fab fa-gitlab"></span> {{ config.repo_name }}
                        {%- else -%}
                        {{ config.repo_name }}
                        {%- endif -%}
                    </a>
                </li>
                {%- endif %}
                {%- endblock %}
            </ul>
        </div>
    </div>
</nav>