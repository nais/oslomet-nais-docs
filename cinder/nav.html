<header class="navbar fixed-top navbar-expand-md navbar-dark bg-dark">
    <nav class="container-fluid">

        <!-- Main title & logo -->
        {% if not config.theme.disable_nav_site_name %}

            {% if config.theme.logo %}
                <a class="navbar-brand" href="{{ nav.homepage.url|url }}">
                    <img alt="logo" height="36" src="{{ config.theme.logo|url }}" class="align-items-center"/>
                    {% if config.site_title %} {{ config.site_title }} {% else %} {{ config.site_name }} {% endif %}
                </a>
            {% else %}
                <a class="navbar-brand" href="{{ nav.homepage.url|url }}">
                    {% if config.site_title %} {{ config.site_title }} {% else %} {{ config.site_name }} {% endif %}
                </a>
            {% endif %}

        {% endif %}

        <!-- Expander button -->
        {%- if nav|length>1 or (page and (page.next_page or page.previous_page)) or config.repo_url %}
        
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

        {% endif %}

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse" id="navbarSupportedContent">
            
            <ul class="navbar-nav flex-grow-1 justify-content-end">
                {%- block search_button %}
                    {%- if 'search' in config['plugins'] and not config.theme.disable_nav_search %}
                        <form class="bd-search d-flex">
                            <input class="form-control me-2" placeholder="Search documentation" type="search" aria-label="Search">
                        </form>

                        <!--
                        Old code that makes search work with modal
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fas fa-search"></i> Search
                            </a>
                        </li>
                        -->

                    {%- endif %}
                {%- endblock %}

                <!--
                Code for previous, next page buttons.
                {%- block next_prev %}
                    {%- if page and (page.next_page or page.previous_page) and not config.theme.disable_nav_previous_next %}
                        <li {% if not page.previous_page %}class="nav-item disabled" {% endif %}>
                            <a rel="prev" class="btn nav-link" {% if page.previous_page %} href="{{ page.previous_page.url|url }}" {% endif %}>
                                <span class="fas fa-arrow-left"></span> Previous page
                            </a>
                        </li>
                        <li {% if not page.next_page %}class="nav-item disabled" {% endif %}>
                            <a rel="next" class="btn nav-link" {% if page.next_page %} href="{{ page.next_page.url|url }}" {% endif %}>
                                Next page <span class="fas fa-arrow-right"></span>
                            </a>
                        </li>
                    {%- endif %}
                {%- endblock %}
                -->

                <!-- links to repos -->
                {%- block repo %}
                    {%- if page and page.edit_url %}
                        <li class="nav-item">
                            <a href="{{ page.edit_url }}" class="btn nav-link">
                                {%- if config.repo_name == 'GitHub' -%}
                                    <span class="fab fa-github"></span> Edit this page on {{ config.repo_name }}
                                {%- elif config.repo_name == 'Bitbucket' -%}
                                    <span class="fab fa-bitbucket"></span> Edit this page on {{ config.repo_name }}
                                {%- elif config.repo_name == 'GitLab' -%}
                                    <span class="fab fa-gitlab"></span> Edit this page on {{ config.repo_name }}
                                {%- else -%}
                                    Edit this page on {{ config.repo_name }}
                                {%- endif -%}
                            </a>
                        </li>
                    {%- elif config.repo_url %}
                        <li class="nav-item">
                            <a href="{{ config.repo_url }}" class="btn nav-link">
                                {%- if config.repo_name == 'GitHub' -%}
                                    <span class="fab fa-github"></span> {{ config.repo_name }}
                                {%- elif config.repo_name == 'Bitbucket' -%}
                                    <span class="fab fa-bitbucket"></span> {{ config.repo_name }}
                                {%- elif config.repo_name == 'GitLab' -%}
                                    <span class="fab fa-gitlab"></span> {{ config.repo_name }}
                                {%- else -%}
                                    {{ config.repo_name }}
                                {%- endif -%}
                            </a>
                        </li>
                    {%- endif %}
                {%- endblock %}
            </ul>
        </div>
    </nav>
</header>