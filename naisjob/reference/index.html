<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
     <link rel="canonical" href="https://nais.io/oslomet-nais-docs/naisjob/reference/"> 
    
    
    <link rel="icon" type="image/x-icon" href="../../assets/logo.svg">
    

    
    <title>Reference - NAIS</title>
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../css/bootstrap.min.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link href="../../css/cinder.css" rel="stylesheet">

    
        
        <link rel="stylesheet" href="../../css/highlight.css">
        
    

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    

     
</head>

<body>

    <header class="navbar fixed-top navbar-expand-md navbar-dark bg-dark">
    <nav class="container-fluid" aria-label="toolbar">
        
        

            
            <a class="navbar-brand" href="../..">
                <img alt="logo" height="36" src="../../assets/logo.svg" class="align-items-center"/>
                 NAIS platform documentation 
            </a>
            

        

        
        
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle toolbar">
            <span class="navbar-toggler-icon"></span>
        </button>
        

        
        <div class="navbar-collapse collapse" id="navbarSupportedContent">
            <ul class="navbar-nav flex-grow-1 justify-content-end">
                
                    
                    <li class="nav-item d-grid m-1">
                        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal" type="button">
                            <span class="fas fa-search"></span> Search
                        </button>
                    </li> 
                    
                

                
                    

                    
                    
                    <li class="nav-item d-grid m-1">
                        <a href="../example/" rel="prev" role="button" class="btn btn-secondary">
                            <span class="fas fa-arrow-left"></span> Previous page
                        </a>
                    </li>
                    

                    
                    
                    <li class="nav-item d-grid m-1">
                        <a href="../../deployment/" rel="next" role="button" class="btn btn-secondary">
                            Next page <span class="fas fa-arrow-right"></span>
                        </a>
                    </li>
                    

                    
                

                
                
                    
                        <li class="nav-item my-auto">
                            <a href="https://github.com/nais/oslomet-nais-docs/" class="btn nav-link">
                                
                                    <span class="fab fa-github"></span> NAIS on Github                                    
                                
                            </a>
                        </li>
                    
                
            </ul>
        </div>
    </nav>
</header>

    <div class="container-fluid">
        <div class="row">
            
            
                <aside class="col-md-6 col-lg-3 col-xl-2 order-lg-1" aria-label="primary">


<nav class="mb-5 sticky-top sidebar-sticky" aria-labelledby="nav-label">
    <span id="nav-label" class="fs-4">Navigation:</span>
    <ul class="list-unstyled py-2 mt-3 sidebar-sticky-overflow border-top border-bottom">
        

            

    

    <li class="mx-1">
        
            <a class="link-dark link-hover-underline d-block p-1 bg-grey rounded-top" href='



    

    ../..

' aria-current="location"><strong>NAIS</strong></a>
            <ul class="list-unstyled ps-2 border-start border-bottom py-1">
                
            
                    

    

    <li class="mx-1">
        
            <a class="link-dark link-hover-underline d-block p-1 rounded" href="../..">Introduction to NAIS</a>
        
    </li>

                 
                
            
                    

    

    <li class="mx-1">
        
            <a class="link-dark link-hover-underline d-block p-1 rounded" href='



    

    ../../basics/access/

'> Getting started</a>
        
    </li>


                 
                
            
                    

    

    <li class="mx-1">
        
            <a class="link-dark link-hover-underline d-block p-1 rounded" href='



    

    ../../clusters/gcp/

'> Clusters</a>
        
    </li>


                 
                
            
                    

    

    <li class="mx-1">
        
            <a class="link-dark link-hover-underline d-block p-1 rounded" href='



    

    ../../nais-application/example/

'> NAIS Application</a>
        
    </li>


                 
                
            
                    

    

    <li class="mx-1">
        
            <a class="link-dark link-hover-underline d-block p-1 bg-grey rounded-top" href='



    

    ../

' aria-current="location"><strong>Naisjob</strong></a>
            <ul class="list-unstyled ps-2 border-start border-bottom py-1">
                
            
                    

    

    <li class="mx-1">
        
            <a class="link-dark link-hover-underline d-block p-1 rounded" href="../">Overview</a>
        
    </li>

                 
                
            
                    

    

    <li class="mx-1">
        
            <a class="link-dark link-hover-underline d-block p-1 rounded" href="../example/">Full example</a>
        
    </li>

                 
                
            
                    

    

    <li class="mx-1">
        
            <a class="link-dark link-hover-underline d-block p-1 bg-warning rounded" href="./" aria-current="page"><strong>Reference</strong></a>
        
    </li>

                 
                
            </ul>
        
    </li>


                 
                
            
                    

    

    <li class="mx-1">
        
            <a class="link-dark link-hover-underline d-block p-1 rounded" href='



    

    ../../deployment/

'> Deploy</a>
        
    </li>


                 
                
            
                    

    

    <li class="mx-1">
        
            <a class="link-dark link-hover-underline d-block p-1 rounded" href='



    

    

    



    

    ../../observability/alerts/



'> Observability</a>
        
    </li>


                 
                
            
                    

    

    <li class="mx-1">
        
            <a class="link-dark link-hover-underline d-block p-1 rounded" href='



    

    ../../persistence/responsibilities/

'> Persistence</a>
        
    </li>


                 
                
            
                    

    

    <li class="mx-1">
        
            <a class="link-dark link-hover-underline d-block p-1 rounded" href='



    

    

    



    

    ../../security/auth/



'> Security</a>
        
    </li>


                 
                
            
                    

    

    <li class="mx-1">
        
            <a class="link-dark link-hover-underline d-block p-1 rounded" href='



    

    ../../addons/leader-election/

'> Addons</a>
        
    </li>


                 
                
            
                    

    

    <li class="mx-1">
        
            <a class="link-dark link-hover-underline d-block p-1 rounded" href='



    

    ../../legacy/sunset/

'> Legacy</a>
        
    </li>


                 
                
            
                    

    

    <li class="mx-1">
        
            <a class="link-dark link-hover-underline d-block p-1 rounded" href='



    

    ../../appendix/zero-trust/

'> Appendix</a>
        
    </li>


                 
                
            
                    

    

    <li class="mx-1">
        
            <a class="link-dark link-hover-underline d-block p-1 rounded" href="../../support/">Support</a>
        
    </li>

                 
                
            </ul>
        
    </li>



        

            

    

    <li class="mx-1">
        
            <a class="link-dark link-hover-underline d-block p-1 rounded" href='



    

    ../../device/

'> naisdevice</a>
        
    </li>



        

            

    

    <li class="mx-1">
        
            <a class="link-dark link-hover-underline d-block p-1 rounded" href='



    

    ../../cli/

'> nais-cli</a>
        
    </li>



        

            

    

    <li class="mx-1">
        
            <a class="link-dark link-hover-underline d-block p-1 rounded" href='



    

    ../../legal/roles-responsibilities/

'> Laws and regulations</a>
        
    </li>



        

            

    

    <li class="mx-1">
        
            <a class="link-dark link-hover-underline d-block p-1 rounded" href='



    

    ../../theme-dev/

'> Theme Dev</a>
        
    </li>



        
    </ul>
</nav>


</aside>
                <aside class="col-md-6 col-lg-3 col-xl-3 order-lg-3" aria-label="secondary"><nav class="mb-5 sticky-top sidebar-sticky " aria-labelledby="toc-label">
    <span id="toc-label" class="fs-4">On this page:</span>
    <ul class="list-unstyled py-2 mt-3 sidebar-sticky-overflow border-top border-bottom">
        
        <li class="m-1">
            <strong><a class="link-dark link-hover-underline d-block" href="#nais-job-reference">NAIS Job reference</a></strong>
            
            <ul class="ps-3">
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#accesspolicy">accessPolicy</a>
                    
                    <ul class="ps-3">
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#accesspolicyinbound">accessPolicy.inbound</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#accesspolicyoutbound">accessPolicy.outbound</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#activedeadlineseconds">activeDeadlineSeconds</a>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#azure">azure</a>
                    
                    <ul class="ps-3">
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#azureapplication">azure.application</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#backofflimit">backoffLimit</a>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#command">command</a>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#completions">completions</a>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#concurrencypolicy">concurrencyPolicy</a>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#elastic">elastic</a>
                    
                    <ul class="ps-3">
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#elasticaccess">elastic.access</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#elasticinstance">elastic.instance</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#env">env</a>
                    
                    <ul class="ps-3">
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#envname">env[].name</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#envvalue">env[].value</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#envvaluefrom">env[].valueFrom</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#envfrom">envFrom</a>
                    
                    <ul class="ps-3">
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#envfromconfigmap">envFrom[].configmap</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#envfromsecret">envFrom[].secret</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#failedjobshistorylimit">failedJobsHistoryLimit</a>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#filesfrom">filesFrom</a>
                    
                    <ul class="ps-3">
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#filesfromconfigmap">filesFrom[].configmap</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#filesfrommountpath">filesFrom[].mountPath</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#filesfrompersistentvolumeclaim">filesFrom[].persistentVolumeClaim</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#filesfromsecret">filesFrom[].secret</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#gcp">gcp</a>
                    
                    <ul class="ps-3">
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#gcpbigquerydatasets">gcp.bigQueryDatasets</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#gcpbuckets">gcp.buckets</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#gcppermissions">gcp.permissions</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#gcpsqlinstances">gcp.sqlInstances</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#image">image</a>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#influx">influx</a>
                    
                    <ul class="ps-3">
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#influxinstance">influx.instance</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#kafka">kafka</a>
                    
                    <ul class="ps-3">
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#kafkapool">kafka.pool</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#kafkastreams">kafka.streams</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#liveness">liveness</a>
                    
                    <ul class="ps-3">
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#livenessfailurethreshold">liveness.failureThreshold</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#livenessinitialdelay">liveness.initialDelay</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#livenesspath">liveness.path</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#livenessperiodseconds">liveness.periodSeconds</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#livenessport">liveness.port</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#livenesstimeout">liveness.timeout</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#logformat">logformat</a>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#logtransform">logtransform</a>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#maskinporten">maskinporten</a>
                    
                    <ul class="ps-3">
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#maskinportenenabled">maskinporten.enabled</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#maskinportenscopes">maskinporten.scopes</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#opensearch">openSearch</a>
                    
                    <ul class="ps-3">
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#opensearchaccess">openSearch.access</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#opensearchinstance">openSearch.instance</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#parallelism">parallelism</a>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#prestophook">preStopHook</a>
                    
                    <ul class="ps-3">
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#prestophookexec">preStopHook.exec</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#prestophookhttp">preStopHook.http</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#readiness">readiness</a>
                    
                    <ul class="ps-3">
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#readinessfailurethreshold">readiness.failureThreshold</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#readinessinitialdelay">readiness.initialDelay</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#readinesspath">readiness.path</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#readinessperiodseconds">readiness.periodSeconds</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#readinessport">readiness.port</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#readinesstimeout">readiness.timeout</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#resources">resources</a>
                    
                    <ul class="ps-3">
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#resourceslimits">resources.limits</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#resourcesrequests">resources.requests</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#restartpolicy">restartPolicy</a>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#schedule">schedule</a>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#securelogs">secureLogs</a>
                    
                    <ul class="ps-3">
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#securelogsenabled">secureLogs.enabled</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#skipcabundle">skipCaBundle</a>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#startup">startup</a>
                    
                    <ul class="ps-3">
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#startupfailurethreshold">startup.failureThreshold</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#startupinitialdelay">startup.initialDelay</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#startuppath">startup.path</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#startupperiodseconds">startup.periodSeconds</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#startupport">startup.port</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#startuptimeout">startup.timeout</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#successfuljobshistorylimit">successfulJobsHistoryLimit</a>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#ttlsecondsafterfinished">ttlSecondsAfterFinished</a>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#vault">vault</a>
                    
                    <ul class="ps-3">
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#vaultenabled">vault.enabled</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#vaultpaths">vault.paths</a>
                        </li>
                        
                        <li class="m-1">
                            <a class="link-dark link-hover-underline d-block" href="#vaultsidecar">vault.sidecar</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="m-1">
                    <a class="link-dark link-hover-underline d-block" href="#webproxy">webproxy</a>
                    
                </li>
                
            </ul>
            
        </li>    
        
    </ul>
</nav></aside>
                <main class="col-md-12 col-lg-6 col-xl-7 order-lg-2" aria-label="main content">
<div class="mb-2">
    <a href="https://github.com/nais/oslomet-nais-docs/edit/main/docs/naisjob/reference.md">
        <span class="fas fa-edit"></span> Edit this page
    </a>
</div>


<h1 id="nais-job-reference">NAIS Job reference<a class="headerlink" href="#nais-job-reference" title="Permanent link">§</a></h1>
<!--
  This documentation was automatically generated by the liberator pipeline.
  See https://github.com/nais/liberator/actions for details.

  DO NOT MAKE MANUAL CHANGES TO THIS FILE, THEY WILL BE OVERWRITTEN!
-->

<p>This document describes all possible configuration values in the <code>Naisjob</code> spec.</p>
<h2 id="accesspolicy">accessPolicy<a class="headerlink" href="#accesspolicy" title="Permanent link">§</a></h2>
<p>By default, no traffic is allowed between naisjobs inside the cluster. Configure access policies to explicitly allow communication between naisjobs. This is also used for granting inbound access in the context of Azure AD and TokenX clients.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://doc.nais.io/appendix/zero-trust/">https://doc.nais.io/appendix/zero-trust/</a></li>
<li><a href="https://doc.nais.io/security/auth/azure-ad/access-policy">https://doc.nais.io/security/auth/azure-ad/access-policy</a></li>
<li><a href="https://doc.nais.io/security/auth/tokenx/#access-policies">https://doc.nais.io/security/auth/tokenx/#access-policies</a></li>
</ul>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">accessPolicy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">inbound</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">rules</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app2</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app3</span><span class="w"></span>
<span class="w">          </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev-gcp</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q2</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;*&#39;</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q3</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app4</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-scope</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app5</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">roles</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-role</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app6</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">roles</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-role</span><span class="w"></span>
<span class="w">            </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-scope</span><span class="w"></span>
<span class="w">    </span><span class="nt">outbound</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">external</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">external-application.example.com</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">non-http-service.example.com</span><span class="w"></span>
<span class="w">          </span><span class="nt">ports</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kafka</span><span class="w"></span>
<span class="w">              </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">9200</span><span class="w"></span>
<span class="w">              </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span><span class="w"></span>
<span class="w">      </span><span class="nt">rules</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app2</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app3</span><span class="w"></span>
<span class="w">          </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev-gcp</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q2</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;*&#39;</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q3</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="accesspolicyinbound">accessPolicy.inbound<a class="headerlink" href="#accesspolicyinbound" title="Permanent link">§</a></h3>
<p>Configures inbound access for your application.</p>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">accessPolicy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">inbound</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">rules</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app2</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app3</span><span class="w"></span>
<span class="w">          </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev-gcp</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q2</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;*&#39;</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q3</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app4</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-scope</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app5</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">roles</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-role</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app6</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">roles</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-role</span><span class="w"></span>
<span class="w">            </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-scope</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="accesspolicyinboundrules">accessPolicy.inbound.rules<a class="headerlink" href="#accesspolicyinboundrules" title="Permanent link">§</a></h4>
<p>List of NAIS applications that may access your application. These settings apply both to Zero Trust network connectivity and token validity for Azure AD and TokenX tokens.</p>
<p>Type: <code>array</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">accessPolicy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">inbound</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">rules</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app2</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app3</span><span class="w"></span>
<span class="w">          </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev-gcp</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q2</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;*&#39;</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q3</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app4</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-scope</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app5</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">roles</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-role</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app6</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">roles</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-role</span><span class="w"></span>
<span class="w">            </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-scope</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="accesspolicyinboundrulesapplication">accessPolicy.inbound.rules[].application<a class="headerlink" href="#accesspolicyinboundrulesapplication" title="Permanent link">§</a></h5>
<p>The application's name.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">accessPolicy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">inbound</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">rules</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app2</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app3</span><span class="w"></span>
<span class="w">          </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev-gcp</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q2</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;*&#39;</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q3</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app4</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-scope</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app5</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">roles</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-role</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app6</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">roles</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-role</span><span class="w"></span>
<span class="w">            </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-scope</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="accesspolicyinboundrulescluster">accessPolicy.inbound.rules[].cluster<a class="headerlink" href="#accesspolicyinboundrulescluster" title="Permanent link">§</a></h5>
<p>The application's cluster. May be omitted if it should be in the same cluster as your application.</p>
<p>Type: <code>string</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">accessPolicy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">inbound</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">rules</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app2</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app3</span><span class="w"></span>
<span class="w">          </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev-gcp</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q2</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;*&#39;</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q3</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app4</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-scope</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app5</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">roles</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-role</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app6</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">roles</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-role</span><span class="w"></span>
<span class="w">            </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-scope</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="accesspolicyinboundrulesnamespace">accessPolicy.inbound.rules[].namespace<a class="headerlink" href="#accesspolicyinboundrulesnamespace" title="Permanent link">§</a></h5>
<p>The application's namespace. May be omitted if it should be in the same namespace as your application.</p>
<p>Type: <code>string</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">accessPolicy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">inbound</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">rules</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app2</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app3</span><span class="w"></span>
<span class="w">          </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev-gcp</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q2</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;*&#39;</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q3</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app4</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-scope</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app5</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">roles</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-role</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app6</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">roles</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-role</span><span class="w"></span>
<span class="w">            </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-scope</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="accesspolicyinboundrulespermissions">accessPolicy.inbound.rules[].permissions<a class="headerlink" href="#accesspolicyinboundrulespermissions" title="Permanent link">§</a></h5>
<p>Permissions contains a set of permissions that are granted to the given application. Currently only applicable for Azure AD clients.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://doc.nais.io/security/auth/azure-ad/access-policy#fine-grained-access-control">https://doc.nais.io/security/auth/azure-ad/access-policy#fine-grained-access-control</a></li>
</ul>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">accessPolicy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">inbound</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">rules</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app2</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app3</span><span class="w"></span>
<span class="w">          </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev-gcp</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q2</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;*&#39;</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q3</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app4</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-scope</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app5</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">roles</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-role</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app6</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">roles</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-role</span><span class="w"></span>
<span class="w">            </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-scope</span><span class="w"></span>
</code></pre></div>
</details>
<h6 id="accesspolicyinboundrulespermissionsroles">accessPolicy.inbound.rules[].permissions.roles<a class="headerlink" href="#accesspolicyinboundrulespermissionsroles" title="Permanent link">§</a></h6>
<p>Roles is a set of custom permission roles that are granted to a given application.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://doc.nais.io/security/auth/azure-ad/access-policy#custom-roles">https://doc.nais.io/security/auth/azure-ad/access-policy#custom-roles</a></li>
</ul>
<p>Type: <code>array</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">accessPolicy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">inbound</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">rules</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app2</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app3</span><span class="w"></span>
<span class="w">          </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev-gcp</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q2</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;*&#39;</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q3</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app4</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-scope</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app5</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">roles</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-role</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app6</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">roles</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-role</span><span class="w"></span>
<span class="w">            </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-scope</span><span class="w"></span>
</code></pre></div>
</details>
<h6 id="accesspolicyinboundrulespermissionsscopes">accessPolicy.inbound.rules[].permissions.scopes<a class="headerlink" href="#accesspolicyinboundrulespermissionsscopes" title="Permanent link">§</a></h6>
<p>Scopes is a set of custom permission scopes that are granted to a given application.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://doc.nais.io/security/auth/azure-ad/access-policy#custom-scopes">https://doc.nais.io/security/auth/azure-ad/access-policy#custom-scopes</a></li>
</ul>
<p>Type: <code>array</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">accessPolicy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">inbound</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">rules</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app2</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app3</span><span class="w"></span>
<span class="w">          </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev-gcp</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q2</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;*&#39;</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q3</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app4</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-scope</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app5</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">roles</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-role</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app6</span><span class="w"></span>
<span class="w">          </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">roles</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-role</span><span class="w"></span>
<span class="w">            </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom-scope</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="accesspolicyoutbound">accessPolicy.outbound<a class="headerlink" href="#accesspolicyoutbound" title="Permanent link">§</a></h3>
<p>Configures outbound access for your application.</p>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">accessPolicy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">outbound</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">external</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">external-application.example.com</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">non-http-service.example.com</span><span class="w"></span>
<span class="w">          </span><span class="nt">ports</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kafka</span><span class="w"></span>
<span class="w">              </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">9200</span><span class="w"></span>
<span class="w">              </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span><span class="w"></span>
<span class="w">      </span><span class="nt">rules</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app2</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app3</span><span class="w"></span>
<span class="w">          </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev-gcp</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q2</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;*&#39;</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q3</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="accesspolicyoutboundexternal">accessPolicy.outbound.external<a class="headerlink" href="#accesspolicyoutboundexternal" title="Permanent link">§</a></h4>
<p>List of external resources that your applications should be able to reach.</p>
<p>Type: <code>array</code><br />
Required: <code>false</code><br />
Availability: GCP<br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">accessPolicy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">outbound</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">external</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">external-application.example.com</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">non-http-service.example.com</span><span class="w"></span>
<span class="w">          </span><span class="nt">ports</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kafka</span><span class="w"></span>
<span class="w">              </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">9200</span><span class="w"></span>
<span class="w">              </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="accesspolicyoutboundexternalhost">accessPolicy.outbound.external[].host<a class="headerlink" href="#accesspolicyoutboundexternalhost" title="Permanent link">§</a></h5>
<p>The <em>host</em> that your application should be able to reach, i.e. without the protocol (e.g. <code>https://</code>).</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">accessPolicy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">outbound</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">external</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">external-application.example.com</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">non-http-service.example.com</span><span class="w"></span>
<span class="w">          </span><span class="nt">ports</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kafka</span><span class="w"></span>
<span class="w">              </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">9200</span><span class="w"></span>
<span class="w">              </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="accesspolicyoutboundexternalports">accessPolicy.outbound.external[].ports<a class="headerlink" href="#accesspolicyoutboundexternalports" title="Permanent link">§</a></h5>
<p>List of port rules for external communication. Must be specified if using protocols other than HTTPS.</p>
<p>Type: <code>array</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">accessPolicy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">outbound</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">external</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">external-application.example.com</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">non-http-service.example.com</span><span class="w"></span>
<span class="w">          </span><span class="nt">ports</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kafka</span><span class="w"></span>
<span class="w">              </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">9200</span><span class="w"></span>
<span class="w">              </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span><span class="w"></span>
</code></pre></div>
</details>
<h6 id="accesspolicyoutboundexternalportsname">accessPolicy.outbound.external[].ports[].name<a class="headerlink" href="#accesspolicyoutboundexternalportsname" title="Permanent link">§</a></h6>
<p>Human-readable identifier for this rule.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">accessPolicy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">outbound</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">external</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">external-application.example.com</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">non-http-service.example.com</span><span class="w"></span>
<span class="w">          </span><span class="nt">ports</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kafka</span><span class="w"></span>
<span class="w">              </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">9200</span><span class="w"></span>
<span class="w">              </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span><span class="w"></span>
</code></pre></div>
</details>
<h6 id="accesspolicyoutboundexternalportsport">accessPolicy.outbound.external[].ports[].port<a class="headerlink" href="#accesspolicyoutboundexternalportsport" title="Permanent link">§</a></h6>
<p>The port used for communication.</p>
<p>Type: <code>integer</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">accessPolicy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">outbound</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">external</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">external-application.example.com</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">non-http-service.example.com</span><span class="w"></span>
<span class="w">          </span><span class="nt">ports</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kafka</span><span class="w"></span>
<span class="w">              </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">9200</span><span class="w"></span>
<span class="w">              </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span><span class="w"></span>
</code></pre></div>
</details>
<h6 id="accesspolicyoutboundexternalportsprotocol">accessPolicy.outbound.external[].ports[].protocol<a class="headerlink" href="#accesspolicyoutboundexternalportsprotocol" title="Permanent link">§</a></h6>
<p>The protocol used for communication.</p>
<p>Type: <code>enum</code><br />
Required: <code>true</code><br />
Allowed values: <code>GRPC</code>, <code>HTTP</code>, <code>HTTP2</code>, <code>HTTPS</code>, <code>MONGO</code>, <code>TCP</code>, <code>TLS</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">accessPolicy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">outbound</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">external</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">external-application.example.com</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">non-http-service.example.com</span><span class="w"></span>
<span class="w">          </span><span class="nt">ports</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kafka</span><span class="w"></span>
<span class="w">              </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">9200</span><span class="w"></span>
<span class="w">              </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="accesspolicyoutboundrules">accessPolicy.outbound.rules<a class="headerlink" href="#accesspolicyoutboundrules" title="Permanent link">§</a></h4>
<p>List of NAIS applications that your application needs to access. These settings apply to Zero Trust network connectivity.</p>
<p>Type: <code>array</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">accessPolicy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">outbound</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">rules</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app2</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app3</span><span class="w"></span>
<span class="w">          </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev-gcp</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q2</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;*&#39;</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q3</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="accesspolicyoutboundrulesapplication">accessPolicy.outbound.rules[].application<a class="headerlink" href="#accesspolicyoutboundrulesapplication" title="Permanent link">§</a></h5>
<p>The application's name.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">accessPolicy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">outbound</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">rules</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app2</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app3</span><span class="w"></span>
<span class="w">          </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev-gcp</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q2</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;*&#39;</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q3</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="accesspolicyoutboundrulescluster">accessPolicy.outbound.rules[].cluster<a class="headerlink" href="#accesspolicyoutboundrulescluster" title="Permanent link">§</a></h5>
<p>The application's cluster. May be omitted if it should be in the same cluster as your application.</p>
<p>Type: <code>string</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">accessPolicy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">outbound</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">rules</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app2</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app3</span><span class="w"></span>
<span class="w">          </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev-gcp</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q2</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;*&#39;</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q3</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="accesspolicyoutboundrulesnamespace">accessPolicy.outbound.rules[].namespace<a class="headerlink" href="#accesspolicyoutboundrulesnamespace" title="Permanent link">§</a></h5>
<p>The application's namespace. May be omitted if it should be in the same namespace as your application.</p>
<p>Type: <code>string</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">accessPolicy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">outbound</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">rules</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app2</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q1</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app3</span><span class="w"></span>
<span class="w">          </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev-gcp</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q2</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;*&#39;</span><span class="w"></span>
<span class="w">          </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">q3</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="activedeadlineseconds">activeDeadlineSeconds<a class="headerlink" href="#activedeadlineseconds" title="Permanent link">§</a></h2>
<p>Once a Naisjob reaches activeDeadlineSeconds, all of its running Pods are terminated and the Naisjob status will become type: Failed with reason: DeadlineExceeded. If set, this takes presedence over BackoffLimit.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">activeDeadlineSeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="azure">azure<a class="headerlink" href="#azure" title="Permanent link">§</a></h2>
<p>Provisions and configures Azure resources.</p>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">azure</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">application</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">allowAllUsers</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">      </span><span class="nt">claims</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">extra</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NAVident</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">azp_name</span><span class="w"></span>
<span class="w">        </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">00000000-0000-0000-0000-000000000000</span><span class="w"></span>
<span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">      </span><span class="nt">replyURLs</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://myapplication.nav.no/oauth2/callback</span><span class="w"></span>
<span class="w">      </span><span class="nt">singlePageApplication</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">      </span><span class="nt">tenant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nav.no</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="azureapplication">azure.application<a class="headerlink" href="#azureapplication" title="Permanent link">§</a></h3>
<p>Configures an Azure AD client for this application.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://doc.nais.io/security/auth/azure-ad/">https://doc.nais.io/security/auth/azure-ad/</a></li>
</ul>
<p>Type: <code>object</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">azure</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">application</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">allowAllUsers</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">      </span><span class="nt">claims</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">extra</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NAVident</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">azp_name</span><span class="w"></span>
<span class="w">        </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">00000000-0000-0000-0000-000000000000</span><span class="w"></span>
<span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">      </span><span class="nt">replyURLs</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://myapplication.nav.no/oauth2/callback</span><span class="w"></span>
<span class="w">      </span><span class="nt">singlePageApplication</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">      </span><span class="nt">tenant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nav.no</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="azureapplicationallowallusers">azure.application.allowAllUsers<a class="headerlink" href="#azureapplicationallowallusers" title="Permanent link">§</a></h4>
<p>AllowAllUsers denotes whether or not all users within the tenant should be allowed to access this AzureAdApplication. If undefined will default to <code>true</code> when Spec.Claims.Groups is undefined, and <code>false</code> if Spec,Claims.Groups is defined.</p>
<p>Type: <code>boolean</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">azure</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">application</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">allowAllUsers</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="azureapplicationclaims">azure.application.claims<a class="headerlink" href="#azureapplicationclaims" title="Permanent link">§</a></h4>
<p>Claims defines additional configuration of the emitted claims in tokens returned to the Azure AD application.</p>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">azure</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">application</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">claims</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">extra</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NAVident</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">azp_name</span><span class="w"></span>
<span class="w">        </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">00000000-0000-0000-0000-000000000000</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="azureapplicationclaimsextra">azure.application.claims.extra<a class="headerlink" href="#azureapplicationclaimsextra" title="Permanent link">§</a></h5>
<p>Extra is a list of additional claims to be mapped from an associated claim-mapping policy. Currently, the only supported values are <code>NAVident</code> and <code>azp_name</code>.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://doc.nais.io/security/auth/azure-ad/configuration#extra">https://doc.nais.io/security/auth/azure-ad/configuration#extra</a></li>
</ul>
<p>Type: <code>array</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">azure</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">application</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">claims</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">extra</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NAVident</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">azp_name</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="azureapplicationclaimsgroups">azure.application.claims.groups<a class="headerlink" href="#azureapplicationclaimsgroups" title="Permanent link">§</a></h5>
<p>Groups is a list of Azure AD group IDs to be emitted in the 'Groups' claim. This also restricts access to only contain users of the defined groups unless overridden by Spec.AllowAllUsers.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://doc.nais.io/security/auth/azure-ad/access-policy#groups">https://doc.nais.io/security/auth/azure-ad/access-policy#groups</a></li>
</ul>
<p>Type: <code>array</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">azure</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">application</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">claims</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">00000000-0000-0000-0000-000000000000</span><span class="w"></span>
</code></pre></div>
</details>
<h6 id="azureapplicationclaimsgroupsid">azure.application.claims.groups[].id<a class="headerlink" href="#azureapplicationclaimsgroupsid" title="Permanent link">§</a></h6>
<p>ID is the actual <code>object ID</code> associated with the given group in Azure AD.</p>
<p>Type: <code>string</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">azure</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">application</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">claims</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">groups</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">00000000-0000-0000-0000-000000000000</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="azureapplicationenabled">azure.application.enabled<a class="headerlink" href="#azureapplicationenabled" title="Permanent link">§</a></h4>
<p>Whether to enable provisioning of an Azure AD application. If enabled, an Azure AD application will be provisioned.</p>
<p>Type: <code>boolean</code><br />
Required: <code>true</code><br />
Default value: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">azure</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">application</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="azureapplicationreplyurls">azure.application.replyURLs<a class="headerlink" href="#azureapplicationreplyurls" title="Permanent link">§</a></h4>
<p>ReplyURLs is a list of allowed redirect URLs used when performing OpenID Connect flows for authenticating end-users.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://doc.nais.io/security/auth/azure-ad/configuration#reply-urls">https://doc.nais.io/security/auth/azure-ad/configuration#reply-urls</a></li>
</ul>
<p>Type: <code>array</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">azure</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">application</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">replyURLs</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://myapplication.nav.no/oauth2/callback</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="azureapplicationsinglepageapplication">azure.application.singlePageApplication<a class="headerlink" href="#azureapplicationsinglepageapplication" title="Permanent link">§</a></h4>
<p>SinglePageApplication denotes whether or not this Azure AD application should be registered as a single-page-application.</p>
<p>Type: <code>boolean</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">azure</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">application</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">singlePageApplication</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="azureapplicationtenant">azure.application.tenant<a class="headerlink" href="#azureapplicationtenant" title="Permanent link">§</a></h4>
<p>A Tenant represents an organization in Azure AD. 
 If unspecified, will default to <code>trygdeetaten.no</code> for development clusters and <code>nav.no</code> for production clusters.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://doc.nais.io/security/auth/azure-ad/concepts#tenants">https://doc.nais.io/security/auth/azure-ad/concepts#tenants</a></li>
</ul>
<p>Type: <code>enum</code><br />
Required: <code>false</code><br />
Allowed values: <code>nav.no</code>, <code>trygdeetaten.no</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">azure</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">application</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">tenant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nav.no</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="backofflimit">backoffLimit<a class="headerlink" href="#backofflimit" title="Permanent link">§</a></h2>
<p>Specify the number of retries before considering a Naisjob as failed</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br />
Default value: <code>6</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">backoffLimit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="command">command<a class="headerlink" href="#command" title="Permanent link">§</a></h2>
<p>Override command when starting Docker image.</p>
<p>Type: <code>array</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">command</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/app/myapplication</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">--param</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">value</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">--other-param</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">other-value</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="completions">completions<a class="headerlink" href="#completions" title="Permanent link">§</a></h2>
<p>A Job tracks the successful completions. When a specified number of successful completions is reached, the task (ie, Job) is complete.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://kubernetes.io/docs/concepts/workloads/controllers/job/#job-patterns">https://kubernetes.io/docs/concepts/workloads/controllers/job/#job-patterns</a></li>
</ul>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br />
Default value: <code>1</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">completions</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="concurrencypolicy">concurrencyPolicy<a class="headerlink" href="#concurrencypolicy" title="Permanent link">§</a></h2>
<p>Specifies how to treat concurrent executions of a job that is created by this Naisjob-cron.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://kubernetes.io/docs/tasks/job/automated-tasks-with-cron-jobs/#concurrency-policy">https://kubernetes.io/docs/tasks/job/automated-tasks-with-cron-jobs/#concurrency-policy</a></li>
</ul>
<p>Type: <code>enum</code><br />
Required: <code>false</code><br />
Default value: <code>Allow</code><br />
Allowed values: <code>Allow</code>, <code>Forbid</code>, <code>Replace</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">concurrencyPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Allow</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="elastic">elastic<a class="headerlink" href="#elastic" title="Permanent link">§</a></h2>
<p>To get your own Elastic Search instance head over to the IaC-repo to provision each instance. See <a href="https://github.com/navikt/aiven-iac">navikt/aiven-iac</a> repository</p>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">elastic</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">access</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">readwrite</span><span class="w"></span>
<span class="w">    </span><span class="nt">instance</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-elastic-instance</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="elasticaccess">elastic.access<a class="headerlink" href="#elasticaccess" title="Permanent link">§</a></h3>
<p>Access level for elastic user</p>
<p>Type: <code>enum</code><br />
Required: <code>false</code><br />
Allowed values: <code>admin</code>, <code>read</code>, <code>readwrite</code>, <code>write</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">elastic</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">access</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">readwrite</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="elasticinstance">elastic.instance<a class="headerlink" href="#elasticinstance" title="Permanent link">§</a></h3>
<p>Provisions an Elasticsearch instance and configures your application so it can access it. Use the <code>instance_name</code> that you specified in the <a href="https://github.com/navikt/aiven-iac">navikt/aiven-iac</a> repository.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">elastic</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">instance</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-elastic-instance</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="env">env<a class="headerlink" href="#env" title="Permanent link">§</a></h2>
<p>Custom environment variables injected into your container. Specify either <code>value</code> or <code>valueFrom</code>, but not both.</p>
<p>Type: <code>array</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">env</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MY_CUSTOM_VAR</span><span class="w"></span>
<span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">some_value</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MY_APPLICATION_NAME</span><span class="w"></span>
<span class="w">      </span><span class="nt">valueFrom</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">fieldRef</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">fieldPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">metadata.name</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="envname">env[].name<a class="headerlink" href="#envname" title="Permanent link">§</a></h3>
<p>Environment variable name. May only contain letters, digits, and the underscore <code>_</code> character.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">env</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MY_CUSTOM_VAR</span><span class="w"></span>
<span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">some_value</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MY_APPLICATION_NAME</span><span class="w"></span>
<span class="w">      </span><span class="nt">valueFrom</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">fieldRef</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">fieldPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">metadata.name</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="envvalue">env[].value<a class="headerlink" href="#envvalue" title="Permanent link">§</a></h3>
<p>Environment variable value. Numbers and boolean values must be quoted. Required unless <code>valueFrom</code> is specified.</p>
<p>Type: <code>string</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">env</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MY_CUSTOM_VAR</span><span class="w"></span>
<span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">some_value</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MY_APPLICATION_NAME</span><span class="w"></span>
<span class="w">      </span><span class="nt">valueFrom</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">fieldRef</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">fieldPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">metadata.name</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="envvaluefrom">env[].valueFrom<a class="headerlink" href="#envvaluefrom" title="Permanent link">§</a></h3>
<p>Dynamically set environment variables based on fields found in the Pod spec.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://kubernetes.io/docs/tasks/inject-data-application/environment-variable-expose-pod-information/">https://kubernetes.io/docs/tasks/inject-data-application/environment-variable-expose-pod-information/</a></li>
</ul>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">env</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MY_CUSTOM_VAR</span><span class="w"></span>
<span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">some_value</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MY_APPLICATION_NAME</span><span class="w"></span>
<span class="w">      </span><span class="nt">valueFrom</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">fieldRef</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">fieldPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">metadata.name</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="envvaluefromfieldref">env[].valueFrom.fieldRef<a class="headerlink" href="#envvaluefromfieldref" title="Permanent link">§</a></h4>
<p>Type: <code>object</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">env</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MY_CUSTOM_VAR</span><span class="w"></span>
<span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">some_value</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MY_APPLICATION_NAME</span><span class="w"></span>
<span class="w">      </span><span class="nt">valueFrom</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">fieldRef</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">fieldPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">metadata.name</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="envvaluefromfieldreffieldpath">env[].valueFrom.fieldRef.fieldPath<a class="headerlink" href="#envvaluefromfieldreffieldpath" title="Permanent link">§</a></h5>
<p>Field value from the <code>Pod</code> spec that should be copied into the environment variable.</p>
<p>Type: <code>enum</code><br />
Required: <code>true</code><br />
Allowed values: <em>(empty string)</em>, <code>metadata.annotations</code>, <code>metadata.labels</code>, <code>metadata.name</code>, <code>metadata.namespace</code>, <code>spec.nodeName</code>, <code>spec.serviceAccountName</code>, <code>status.hostIP</code>, <code>status.podIP</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">env</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MY_CUSTOM_VAR</span><span class="w"></span>
<span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">some_value</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MY_APPLICATION_NAME</span><span class="w"></span>
<span class="w">      </span><span class="nt">valueFrom</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">fieldRef</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">fieldPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">metadata.name</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="envfrom">envFrom<a class="headerlink" href="#envfrom" title="Permanent link">§</a></h2>
<p>EnvFrom exposes all variables in the ConfigMap or Secret resources as environment variables. One of <code>configMap</code> or <code>secret</code> is required. 
 Environment variables will take the form <code>KEY=VALUE</code>, where <code>key</code> is the ConfigMap or Secret key. You can specify as many keys as you like in a single ConfigMap or Secret. 
 The ConfigMap and Secret resources must live in the same Kubernetes namespace as the Naisjob resource.</p>
<p>Type: <code>array</code><br />
Required: <code>false</code><br />
Availability: team namespaces<br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">envFrom</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">secret</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-secret-with-envs</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">configmap</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-configmap-with-envs</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="envfromconfigmap">envFrom[].configmap<a class="headerlink" href="#envfromconfigmap" title="Permanent link">§</a></h3>
<p>Name of the <code>ConfigMap</code> where environment variables are specified. Required unless <code>secret</code> is set.</p>
<p>Type: <code>string</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">envFrom</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">secret</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-secret-with-envs</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">configmap</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-configmap-with-envs</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="envfromsecret">envFrom[].secret<a class="headerlink" href="#envfromsecret" title="Permanent link">§</a></h3>
<p>Name of the <code>Secret</code> where environment variables are specified. Required unless <code>configMap</code> is set.</p>
<p>Type: <code>string</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">envFrom</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">secret</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-secret-with-envs</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">configmap</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-configmap-with-envs</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="failedjobshistorylimit">failedJobsHistoryLimit<a class="headerlink" href="#failedjobshistorylimit" title="Permanent link">§</a></h2>
<p>Specify how many failed Jobs should be kept.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br />
Default value: <code>1</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">failedJobsHistoryLimit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="filesfrom">filesFrom<a class="headerlink" href="#filesfrom" title="Permanent link">§</a></h2>
<p>List of ConfigMap or Secret resources that will have their contents mounted into the containers as files. Either <code>configMap</code> or <code>secret</code> is required. 
 Files will take the path <code>&lt;mountPath&gt;/&lt;key&gt;</code>, where <code>key</code> is the ConfigMap or Secret key. You can specify as many keys as you like in a single ConfigMap or Secret, and they will all be mounted to the same directory. 
 The ConfigMap and Secret resources must live in the same Kubernetes namespace as the Naisjob resource.</p>
<p>Type: <code>array</code><br />
Required: <code>false</code><br />
Availability: team namespaces<br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">filesFrom</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">configmap</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-files-configmap</span><span class="w"></span>
<span class="w">      </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/configmaps</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/secrets</span><span class="w"></span>
<span class="w">      </span><span class="nt">secret</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-secret-file</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/pvc</span><span class="w"></span>
<span class="w">      </span><span class="nt">persistentVolumeClaim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pvc-name</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="filesfromconfigmap">filesFrom[].configmap<a class="headerlink" href="#filesfromconfigmap" title="Permanent link">§</a></h3>
<p>Name of the <code>ConfigMap</code> that contains files that should be mounted into the container. Required unless <code>secret</code> or <code>persistentVolumeClaim</code> is set.</p>
<p>Type: <code>string</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">filesFrom</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">configmap</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-files-configmap</span><span class="w"></span>
<span class="w">      </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/configmaps</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/secrets</span><span class="w"></span>
<span class="w">      </span><span class="nt">secret</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-secret-file</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/pvc</span><span class="w"></span>
<span class="w">      </span><span class="nt">persistentVolumeClaim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pvc-name</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="filesfrommountpath">filesFrom[].mountPath<a class="headerlink" href="#filesfrommountpath" title="Permanent link">§</a></h3>
<p>Filesystem path inside the pod where files are mounted. The directory will be created if it does not exist. If the directory exists, any files in the directory will be made unaccessible. 
 Defaults to <code>/var/run/configmaps/&lt;NAME&gt;</code>, <code>/var/run/secrets</code>, or <code>/var/run/pvc/&lt;NAME&gt;</code>, depending on which of them is specified.</p>
<p>Type: <code>string</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">filesFrom</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">configmap</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-files-configmap</span><span class="w"></span>
<span class="w">      </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/configmaps</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/secrets</span><span class="w"></span>
<span class="w">      </span><span class="nt">secret</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-secret-file</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/pvc</span><span class="w"></span>
<span class="w">      </span><span class="nt">persistentVolumeClaim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pvc-name</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="filesfrompersistentvolumeclaim">filesFrom[].persistentVolumeClaim<a class="headerlink" href="#filesfrompersistentvolumeclaim" title="Permanent link">§</a></h3>
<p>Name of the <code>PersistentVolumeClaim</code> that should be mounted into the container. Required unless <code>configMap</code> or <code>secret</code> is set. This feature requires coordination with the NAIS team.</p>
<p>Type: <code>string</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">filesFrom</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">configmap</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-files-configmap</span><span class="w"></span>
<span class="w">      </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/configmaps</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/secrets</span><span class="w"></span>
<span class="w">      </span><span class="nt">secret</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-secret-file</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/pvc</span><span class="w"></span>
<span class="w">      </span><span class="nt">persistentVolumeClaim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pvc-name</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="filesfromsecret">filesFrom[].secret<a class="headerlink" href="#filesfromsecret" title="Permanent link">§</a></h3>
<p>Name of the <code>Secret</code> that contains files that should be mounted into the container. Required unless <code>configMap</code> or <code>persistentVolumeClaim</code> is set. If mounting multiple secrets, <code>mountPath</code> <em>MUST</em> be set to avoid collisions.</p>
<p>Type: <code>string</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">filesFrom</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">configmap</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-files-configmap</span><span class="w"></span>
<span class="w">      </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/configmaps</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/secrets</span><span class="w"></span>
<span class="w">      </span><span class="nt">secret</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-secret-file</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/pvc</span><span class="w"></span>
<span class="w">      </span><span class="nt">persistentVolumeClaim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pvc-name</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="gcp">gcp<a class="headerlink" href="#gcp" title="Permanent link">§</a></h2>
<p>Type: <code>object</code><br />
Required: <code>false</code><br />
Availability: GCP<br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">bigQueryDatasets</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Contains big data, supporting big queries, for use in big ideas.</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_bigquery_dataset1</span><span class="w"></span>
<span class="w">        </span><span class="nt">permission</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">READWRITE</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Contains big data, supporting big queries, for use in big ideas.</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_bigquery_dataset2</span><span class="w"></span>
<span class="w">        </span><span class="nt">permission</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">READ</span><span class="w"></span>
<span class="w">    </span><span class="nt">buckets</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">lifecycleCondition</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">age</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">          </span><span class="nt">createdBefore</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2020-01-01&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">numNewerVersions</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w"></span>
<span class="w">          </span><span class="nt">withState</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ARCHIVED</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-cloud-storage-bucket</span><span class="w"></span>
<span class="w">        </span><span class="nt">retentionPeriodDays</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">uniformBucketLevelAccess</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">    </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">resource</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">resourcemanager.cnrm.cloud.google.com/v1beta1</span><span class="w"></span>
<span class="w">          </span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Project</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myteam-dev-ab23</span><span class="w"></span>
<span class="w">        </span><span class="nt">role</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">roles/cloudsql.client</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="gcpbigquerydatasets">gcp.bigQueryDatasets<a class="headerlink" href="#gcpbigquerydatasets" title="Permanent link">§</a></h3>
<p>Provision BigQuery datasets and give your application's pod mountable secrets for connecting to each dataset. Datasets are immutable and cannot be changed.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://cloud.google.com/bigquery/docs">https://cloud.google.com/bigquery/docs</a></li>
</ul>
<p>Type: <code>array</code><br />
Required: <code>false</code><br />
Availability: GCP<br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">bigQueryDatasets</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Contains big data, supporting big queries, for use in big ideas.</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_bigquery_dataset1</span><span class="w"></span>
<span class="w">        </span><span class="nt">permission</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">READWRITE</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Contains big data, supporting big queries, for use in big ideas.</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_bigquery_dataset2</span><span class="w"></span>
<span class="w">        </span><span class="nt">permission</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">READ</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpbigquerydatasetscascadingdelete">gcp.bigQueryDatasets[].cascadingDelete<a class="headerlink" href="#gcpbigquerydatasetscascadingdelete" title="Permanent link">§</a></h4>
<p>When set to true will delete the dataset, when the application resource is deleted. NB: If no tables exist in the bigquery dataset, it <em>will</em> delete the dataset even if this value is set/defaulted to <code>false</code>. Default value is <code>false</code>.</p>
<p>Type: <code>boolean</code><br />
Required: <code>false</code><br />
Immutable: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">bigQueryDatasets</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Contains big data, supporting big queries, for use in big ideas.</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_bigquery_dataset1</span><span class="w"></span>
<span class="w">        </span><span class="nt">permission</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">READWRITE</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Contains big data, supporting big queries, for use in big ideas.</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_bigquery_dataset2</span><span class="w"></span>
<span class="w">        </span><span class="nt">permission</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">READ</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpbigquerydatasetsdescription">gcp.bigQueryDatasets[].description<a class="headerlink" href="#gcpbigquerydatasetsdescription" title="Permanent link">§</a></h4>
<p>Human-readable description of what this BigQuery dataset contains, or is used for. Will be visible in the GCP Console.</p>
<p>Type: <code>string</code><br />
Required: <code>false</code><br />
Immutable: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">bigQueryDatasets</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Contains big data, supporting big queries, for use in big ideas.</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_bigquery_dataset1</span><span class="w"></span>
<span class="w">        </span><span class="nt">permission</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">READWRITE</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Contains big data, supporting big queries, for use in big ideas.</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_bigquery_dataset2</span><span class="w"></span>
<span class="w">        </span><span class="nt">permission</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">READ</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpbigquerydatasetsname">gcp.bigQueryDatasets[].name<a class="headerlink" href="#gcpbigquerydatasetsname" title="Permanent link">§</a></h4>
<p>Name of the BigQuery Dataset. The canonical name of the dataset will be <code>&lt;TEAM_PROJECT_ID&gt;:&lt;NAME&gt;</code>.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br />
Immutable: <code>true</code><br />
Pattern: <code>^[a-z0-9][a-z0-9_]+$</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">bigQueryDatasets</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Contains big data, supporting big queries, for use in big ideas.</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_bigquery_dataset1</span><span class="w"></span>
<span class="w">        </span><span class="nt">permission</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">READWRITE</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Contains big data, supporting big queries, for use in big ideas.</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_bigquery_dataset2</span><span class="w"></span>
<span class="w">        </span><span class="nt">permission</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">READ</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpbigquerydatasetspermission">gcp.bigQueryDatasets[].permission<a class="headerlink" href="#gcpbigquerydatasetspermission" title="Permanent link">§</a></h4>
<p>Permission level given to application.</p>
<p>Type: <code>enum</code><br />
Required: <code>true</code><br />
Immutable: <code>true</code><br />
Allowed values: <code>READ</code>, <code>READWRITE</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">bigQueryDatasets</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Contains big data, supporting big queries, for use in big ideas.</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_bigquery_dataset1</span><span class="w"></span>
<span class="w">        </span><span class="nt">permission</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">READWRITE</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Contains big data, supporting big queries, for use in big ideas.</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_bigquery_dataset2</span><span class="w"></span>
<span class="w">        </span><span class="nt">permission</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">READ</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="gcpbuckets">gcp.buckets<a class="headerlink" href="#gcpbuckets" title="Permanent link">§</a></h3>
<p>Provision cloud storage buckets and connect them to your application.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://doc.nais.io/persistence/buckets/">https://doc.nais.io/persistence/buckets/</a></li>
</ul>
<p>Type: <code>array</code><br />
Required: <code>false</code><br />
Availability: GCP<br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">buckets</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">lifecycleCondition</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">age</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">          </span><span class="nt">createdBefore</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2020-01-01&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">numNewerVersions</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w"></span>
<span class="w">          </span><span class="nt">withState</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ARCHIVED</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-cloud-storage-bucket</span><span class="w"></span>
<span class="w">        </span><span class="nt">retentionPeriodDays</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">uniformBucketLevelAccess</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpbucketscascadingdelete">gcp.buckets[].cascadingDelete<a class="headerlink" href="#gcpbucketscascadingdelete" title="Permanent link">§</a></h4>
<p>Allows deletion of bucket. Set to true if you want to delete the bucket.</p>
<p>Type: <code>boolean</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">buckets</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">lifecycleCondition</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">age</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">          </span><span class="nt">createdBefore</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2020-01-01&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">numNewerVersions</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w"></span>
<span class="w">          </span><span class="nt">withState</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ARCHIVED</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-cloud-storage-bucket</span><span class="w"></span>
<span class="w">        </span><span class="nt">retentionPeriodDays</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">uniformBucketLevelAccess</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpbucketslifecyclecondition">gcp.buckets[].lifecycleCondition<a class="headerlink" href="#gcpbucketslifecyclecondition" title="Permanent link">§</a></h4>
<p>Conditions for the bucket to use when selecting objects to delete in cleanup.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://cloud.google.com/storage/docs/lifecycle">https://cloud.google.com/storage/docs/lifecycle</a></li>
</ul>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">buckets</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">lifecycleCondition</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">age</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">          </span><span class="nt">createdBefore</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2020-01-01&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">numNewerVersions</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w"></span>
<span class="w">          </span><span class="nt">withState</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ARCHIVED</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-cloud-storage-bucket</span><span class="w"></span>
<span class="w">        </span><span class="nt">retentionPeriodDays</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">uniformBucketLevelAccess</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="gcpbucketslifecycleconditionage">gcp.buckets[].lifecycleCondition.age<a class="headerlink" href="#gcpbucketslifecycleconditionage" title="Permanent link">§</a></h5>
<p>Condition is satisfied when the object reaches the specified age in days. These will be deleted.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">buckets</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">lifecycleCondition</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">age</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">          </span><span class="nt">createdBefore</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2020-01-01&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">numNewerVersions</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w"></span>
<span class="w">          </span><span class="nt">withState</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ARCHIVED</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-cloud-storage-bucket</span><span class="w"></span>
<span class="w">        </span><span class="nt">retentionPeriodDays</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">uniformBucketLevelAccess</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="gcpbucketslifecycleconditioncreatedbefore">gcp.buckets[].lifecycleCondition.createdBefore<a class="headerlink" href="#gcpbucketslifecycleconditioncreatedbefore" title="Permanent link">§</a></h5>
<p>Condition is satisfied when the object is created before midnight on the specified date. These will be deleted.</p>
<p>Type: <code>string</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">buckets</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">lifecycleCondition</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">age</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">          </span><span class="nt">createdBefore</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2020-01-01&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">numNewerVersions</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w"></span>
<span class="w">          </span><span class="nt">withState</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ARCHIVED</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-cloud-storage-bucket</span><span class="w"></span>
<span class="w">        </span><span class="nt">retentionPeriodDays</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">uniformBucketLevelAccess</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="gcpbucketslifecycleconditionnumnewerversions">gcp.buckets[].lifecycleCondition.numNewerVersions<a class="headerlink" href="#gcpbucketslifecycleconditionnumnewerversions" title="Permanent link">§</a></h5>
<p>Condition is satisfied when the object has the specified number of newer versions. The older versions will be deleted.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">buckets</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">lifecycleCondition</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">age</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">          </span><span class="nt">createdBefore</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2020-01-01&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">numNewerVersions</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w"></span>
<span class="w">          </span><span class="nt">withState</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ARCHIVED</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-cloud-storage-bucket</span><span class="w"></span>
<span class="w">        </span><span class="nt">retentionPeriodDays</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">uniformBucketLevelAccess</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="gcpbucketslifecycleconditionwithstate">gcp.buckets[].lifecycleCondition.withState<a class="headerlink" href="#gcpbucketslifecycleconditionwithstate" title="Permanent link">§</a></h5>
<p>Condition is satisfied when the object has the specified state.</p>
<p>Type: <code>enum</code><br />
Required: <code>false</code><br />
Allowed values: <em>(empty string)</em>, <code>ANY</code>, <code>ARCHIVED</code>, <code>LIVE</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">buckets</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">lifecycleCondition</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">age</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">          </span><span class="nt">createdBefore</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2020-01-01&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">numNewerVersions</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w"></span>
<span class="w">          </span><span class="nt">withState</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ARCHIVED</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-cloud-storage-bucket</span><span class="w"></span>
<span class="w">        </span><span class="nt">retentionPeriodDays</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">uniformBucketLevelAccess</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpbucketsname">gcp.buckets[].name<a class="headerlink" href="#gcpbucketsname" title="Permanent link">§</a></h4>
<p>The name of the bucket</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">buckets</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">lifecycleCondition</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">age</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">          </span><span class="nt">createdBefore</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2020-01-01&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">numNewerVersions</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w"></span>
<span class="w">          </span><span class="nt">withState</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ARCHIVED</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-cloud-storage-bucket</span><span class="w"></span>
<span class="w">        </span><span class="nt">retentionPeriodDays</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">uniformBucketLevelAccess</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpbucketsretentionperioddays">gcp.buckets[].retentionPeriodDays<a class="headerlink" href="#gcpbucketsretentionperioddays" title="Permanent link">§</a></h4>
<p>The number of days to hold objects in the bucket before it is allowed to delete them.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br />
Value range: <code>1</code>-<code>36500</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">buckets</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">lifecycleCondition</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">age</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">          </span><span class="nt">createdBefore</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2020-01-01&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">numNewerVersions</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w"></span>
<span class="w">          </span><span class="nt">withState</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ARCHIVED</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-cloud-storage-bucket</span><span class="w"></span>
<span class="w">        </span><span class="nt">retentionPeriodDays</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">uniformBucketLevelAccess</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpbucketsuniformbucketlevelaccess">gcp.buckets[].uniformBucketLevelAccess<a class="headerlink" href="#gcpbucketsuniformbucketlevelaccess" title="Permanent link">§</a></h4>
<p>Allows you to uniformly control access to your Cloud Storage resources. When you enable uniform bucket-level access on a bucket, Access Control Lists (ACLs) are disabled, and only bucket-level Identity and Access Management (IAM) permissions grant access to that bucket and the objects it contains. 
 Uniform access control can not be reversed after 90 days! This is controlled by Google.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://cloud.google.com/storage/docs/uniform-bucket-level-access">https://cloud.google.com/storage/docs/uniform-bucket-level-access</a></li>
</ul>
<p>Type: <code>boolean</code><br />
Required: <code>false</code><br />
Default value: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">buckets</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">lifecycleCondition</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">age</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">          </span><span class="nt">createdBefore</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2020-01-01&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">numNewerVersions</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w"></span>
<span class="w">          </span><span class="nt">withState</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ARCHIVED</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-cloud-storage-bucket</span><span class="w"></span>
<span class="w">        </span><span class="nt">retentionPeriodDays</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">uniformBucketLevelAccess</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="gcppermissions">gcp.permissions<a class="headerlink" href="#gcppermissions" title="Permanent link">§</a></h3>
<p>List of <em>additional</em> permissions that should be granted to your application for accessing external GCP resources that have not been provisioned through NAIS.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://cloud.google.com/config-connector/docs/reference/resource-docs/iam/iampolicymember#external_organization_level_policy_member">https://cloud.google.com/config-connector/docs/reference/resource-docs/iam/iampolicymember#external_organization_level_policy_member</a></li>
</ul>
<p>Type: <code>array</code><br />
Required: <code>false</code><br />
Availability: GCP<br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">resource</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">resourcemanager.cnrm.cloud.google.com/v1beta1</span><span class="w"></span>
<span class="w">          </span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Project</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myteam-dev-ab23</span><span class="w"></span>
<span class="w">        </span><span class="nt">role</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">roles/cloudsql.client</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcppermissionsresource">gcp.permissions[].resource<a class="headerlink" href="#gcppermissionsresource" title="Permanent link">§</a></h4>
<p>IAM resource to bind the role to.</p>
<p>Type: <code>object</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">resource</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">resourcemanager.cnrm.cloud.google.com/v1beta1</span><span class="w"></span>
<span class="w">          </span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Project</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myteam-dev-ab23</span><span class="w"></span>
<span class="w">        </span><span class="nt">role</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">roles/cloudsql.client</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="gcppermissionsresourceapiversion">gcp.permissions[].resource.apiVersion<a class="headerlink" href="#gcppermissionsresourceapiversion" title="Permanent link">§</a></h5>
<p>Kubernetes <em>APIVersion</em>.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">resource</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">resourcemanager.cnrm.cloud.google.com/v1beta1</span><span class="w"></span>
<span class="w">          </span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Project</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myteam-dev-ab23</span><span class="w"></span>
<span class="w">        </span><span class="nt">role</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">roles/cloudsql.client</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="gcppermissionsresourcekind">gcp.permissions[].resource.kind<a class="headerlink" href="#gcppermissionsresourcekind" title="Permanent link">§</a></h5>
<p>Kubernetes <em>Kind</em>.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">resource</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">resourcemanager.cnrm.cloud.google.com/v1beta1</span><span class="w"></span>
<span class="w">          </span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Project</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myteam-dev-ab23</span><span class="w"></span>
<span class="w">        </span><span class="nt">role</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">roles/cloudsql.client</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="gcppermissionsresourcename">gcp.permissions[].resource.name<a class="headerlink" href="#gcppermissionsresourcename" title="Permanent link">§</a></h5>
<p>Kubernetes <em>Name</em>.</p>
<p>Type: <code>string</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">resource</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">resourcemanager.cnrm.cloud.google.com/v1beta1</span><span class="w"></span>
<span class="w">          </span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Project</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myteam-dev-ab23</span><span class="w"></span>
<span class="w">        </span><span class="nt">role</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">roles/cloudsql.client</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcppermissionsrole">gcp.permissions[].role<a class="headerlink" href="#gcppermissionsrole" title="Permanent link">§</a></h4>
<p>Name of the GCP role to bind the resource to.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">permissions</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">resource</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">resourcemanager.cnrm.cloud.google.com/v1beta1</span><span class="w"></span>
<span class="w">          </span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Project</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myteam-dev-ab23</span><span class="w"></span>
<span class="w">        </span><span class="nt">role</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">roles/cloudsql.client</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="gcpsqlinstances">gcp.sqlInstances<a class="headerlink" href="#gcpsqlinstances" title="Permanent link">§</a></h3>
<p>Provision database instances and connect them to your application.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://doc.nais.io/persistence/postgres/">https://doc.nais.io/persistence/postgres/</a></li>
<li><a href="https://cloud.google.com/sql/docs/postgres/instance-settings#impact">https://cloud.google.com/sql/docs/postgres/instance-settings#impact</a></li>
</ul>
<p>Type: <code>array</code><br />
Required: <code>false</code><br />
Availability: GCP<br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpsqlinstancesautobackuphour">gcp.sqlInstances[].autoBackupHour<a class="headerlink" href="#gcpsqlinstancesautobackuphour" title="Permanent link">§</a></h4>
<p>If specified, run automatic backups of the SQL database at the given hour. Note that this will backup the whole SQL instance, and not separate databases. Restores are done using the Google Cloud Console.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br />
Value range: <code>0</code>-<code>23</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpsqlinstancescascadingdelete">gcp.sqlInstances[].cascadingDelete<a class="headerlink" href="#gcpsqlinstancescascadingdelete" title="Permanent link">§</a></h4>
<p>Remove the entire Postgres server including all data when the Kubernetes resource is deleted. <em>THIS IS A DESTRUCTIVE OPERATION</em>! Set cascading delete only when you want to remove data forever.</p>
<p>Type: <code>boolean</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpsqlinstancescollation">gcp.sqlInstances[].collation<a class="headerlink" href="#gcpsqlinstancescollation" title="Permanent link">§</a></h4>
<p>Sort order for <code>ORDER BY ...</code> clauses.</p>
<p>Type: <code>string</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpsqlinstancesdatabases">gcp.sqlInstances[].databases<a class="headerlink" href="#gcpsqlinstancesdatabases" title="Permanent link">§</a></h4>
<p>List of databases that should be created on this Postgres server.</p>
<p>Type: <code>array</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="gcpsqlinstancesdatabasesenvvarprefix">gcp.sqlInstances[].databases[].envVarPrefix<a class="headerlink" href="#gcpsqlinstancesdatabasesenvvarprefix" title="Permanent link">§</a></h5>
<p>Prefix to add to environment variables made available for database connection.</p>
<p>Type: <code>string</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="gcpsqlinstancesdatabasesname">gcp.sqlInstances[].databases[].name<a class="headerlink" href="#gcpsqlinstancesdatabasesname" title="Permanent link">§</a></h5>
<p>Database name.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="gcpsqlinstancesdatabasesusers">gcp.sqlInstances[].databases[].users<a class="headerlink" href="#gcpsqlinstancesdatabasesusers" title="Permanent link">§</a></h5>
<p>Add extra users for database access. These users need to be manually given access to database tables.</p>
<p>Type: <code>array</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h6 id="gcpsqlinstancesdatabasesusersname">gcp.sqlInstances[].databases[].users[].name<a class="headerlink" href="#gcpsqlinstancesdatabasesusersname" title="Permanent link">§</a></h6>
<p>User name.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br />
Pattern: <code>^[_a-zA-Z][-_a-zA-Z0-9]+$</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpsqlinstancesdiskautoresize">gcp.sqlInstances[].diskAutoresize<a class="headerlink" href="#gcpsqlinstancesdiskautoresize" title="Permanent link">§</a></h4>
<p>When set to true, GCP will automatically increase storage by XXX for the database when disk usage is above the high water mark.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://cloud.google.com/sql/docs/postgres/instance-settings#threshold">https://cloud.google.com/sql/docs/postgres/instance-settings#threshold</a></li>
</ul>
<p>Type: <code>boolean</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpsqlinstancesdisksize">gcp.sqlInstances[].diskSize<a class="headerlink" href="#gcpsqlinstancesdisksize" title="Permanent link">§</a></h4>
<p>How much hard drive space to allocate for the SQL server, in gigabytes.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br />
Minimum value: <code>10</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpsqlinstancesdisktype">gcp.sqlInstances[].diskType<a class="headerlink" href="#gcpsqlinstancesdisktype" title="Permanent link">§</a></h4>
<p>Disk type to use for storage in the database.</p>
<p>Type: <code>enum</code><br />
Required: <code>false</code><br />
Allowed values: <code>HDD</code>, <code>SSD</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpsqlinstanceshighavailability">gcp.sqlInstances[].highAvailability<a class="headerlink" href="#gcpsqlinstanceshighavailability" title="Permanent link">§</a></h4>
<p>When set to true this will set up standby database for failover.</p>
<p>Type: <code>boolean</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpsqlinstancesinsights">gcp.sqlInstances[].insights<a class="headerlink" href="#gcpsqlinstancesinsights" title="Permanent link">§</a></h4>
<p>Configures query insights which are now default for new sql instances.</p>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="gcpsqlinstancesinsightsenabled">gcp.sqlInstances[].insights.enabled<a class="headerlink" href="#gcpsqlinstancesinsightsenabled" title="Permanent link">§</a></h5>
<p>True if Query Insights feature is enabled.</p>
<p>Type: <code>boolean</code><br />
Required: <code>false</code><br />
Default value: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="gcpsqlinstancesinsightsquerystringlength">gcp.sqlInstances[].insights.queryStringLength<a class="headerlink" href="#gcpsqlinstancesinsightsquerystringlength" title="Permanent link">§</a></h5>
<p>Maximum query length stored in bytes. Between 256 and 4500. Default to 1024.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br />
Value range: <code>256</code>-<code>4500</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="gcpsqlinstancesinsightsrecordapplicationtags">gcp.sqlInstances[].insights.recordApplicationTags<a class="headerlink" href="#gcpsqlinstancesinsightsrecordapplicationtags" title="Permanent link">§</a></h5>
<p>True if Query Insights will record application tags from query when enabled.</p>
<p>Type: <code>boolean</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="gcpsqlinstancesinsightsrecordclientaddress">gcp.sqlInstances[].insights.recordClientAddress<a class="headerlink" href="#gcpsqlinstancesinsightsrecordclientaddress" title="Permanent link">§</a></h5>
<p>True if Query Insights will record client address when enabled.</p>
<p>Type: <code>boolean</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpsqlinstancesmaintenance">gcp.sqlInstances[].maintenance<a class="headerlink" href="#gcpsqlinstancesmaintenance" title="Permanent link">§</a></h4>
<p>Desired maintenance window for database updates.</p>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="gcpsqlinstancesmaintenanceday">gcp.sqlInstances[].maintenance.day<a class="headerlink" href="#gcpsqlinstancesmaintenanceday" title="Permanent link">§</a></h5>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br />
Value range: <code>1</code>-<code>7</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="gcpsqlinstancesmaintenancehour">gcp.sqlInstances[].maintenance.hour<a class="headerlink" href="#gcpsqlinstancesmaintenancehour" title="Permanent link">§</a></h5>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br />
Value range: <code>0</code>-<code>23</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpsqlinstancesname">gcp.sqlInstances[].name<a class="headerlink" href="#gcpsqlinstancesname" title="Permanent link">§</a></h4>
<p>The name of the instance, if omitted the application name will be used.</p>
<p>Type: <code>string</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpsqlinstancespointintimerecovery">gcp.sqlInstances[].pointInTimeRecovery<a class="headerlink" href="#gcpsqlinstancespointintimerecovery" title="Permanent link">§</a></h4>
<p>Enables point-in-time recovery for sql instances using write-ahead logs.</p>
<p>Type: <code>boolean</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpsqlinstancestier">gcp.sqlInstances[].tier<a class="headerlink" href="#gcpsqlinstancestier" title="Permanent link">§</a></h4>
<p>Server tier, i.e. how much CPU and memory allocated. Available tiers are <code>db-f1-micro</code>, <code>db-g1-small</code> and custom <code>db-custom-CPU-RAM</code>. Custom memory must be mulitple of 256 MB and at least 3.75 GB (e.g. <code>db-custom-1-3840</code> for 1 cpu, 3840 MB ram) Also check out <a href="../persistence/postgres.md/#sizing-your-database">sizing your database</a>.</p>
<p>Type: <code>string</code><br />
Required: <code>false</code><br />
Default value: <code>db-f1-micro</code><br />
Pattern: <code>db-.+</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="gcpsqlinstancestype">gcp.sqlInstances[].type<a class="headerlink" href="#gcpsqlinstancestype" title="Permanent link">§</a></h4>
<p>PostgreSQL version.</p>
<p>Type: <code>enum</code><br />
Required: <code>true</code><br />
Allowed values: <code>POSTGRES_11</code>, <code>POSTGRES_12</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">gcp</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sqlInstances</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">autoBackupHour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">        </span><span class="nt">cascadingDelete</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">collation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nb_NO.UTF8</span><span class="w"></span>
<span class="w">        </span><span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">envVarPrefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DB</span><span class="w"></span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mydatabase</span><span class="w"></span>
<span class="w">            </span><span class="nt">users</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extra_user</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskAutoresize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">        </span><span class="nt">diskType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SSD</span><span class="w"></span>
<span class="w">        </span><span class="nt">highAvailability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">insights</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">queryStringLength</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordApplicationTags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">recordClientAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">maintenance</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">          </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myinstance</span><span class="w"></span>
<span class="w">        </span><span class="nt">pointInTimeRecovery</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">tier</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-f1-micro</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POSTGRES_12</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="image">image<a class="headerlink" href="#image" title="Permanent link">§</a></h2>
<p>Your Naisjob's Docker image location and tag.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">navikt/testapp:69.0.0</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="influx">influx<a class="headerlink" href="#influx" title="Permanent link">§</a></h2>
<p>An Influxdb via Aiven. A typical use case is to store metrics from your application and visualize them in Grafana. See <a href="https://github.com/navikt/aiven-iac">navikt/aiven-iac</a> repository</p>
<p>Type: <code>object</code><br />
Required: <code>false</code><br />
Availability: GCP<br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">influx</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">instance</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">influx-instance</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="influxinstance">influx.instance<a class="headerlink" href="#influxinstance" title="Permanent link">§</a></h3>
<p>Provisions an InfluxDB instance and configures your application to access it. Use the prefix: <code>influx-</code> + <code>team</code> that you specified in the <a href="https://github.com/navikt/aiven-iac">navikt/aiven-iac</a> repository.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">influx</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">instance</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">influx-instance</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="kafka">kafka<a class="headerlink" href="#kafka" title="Permanent link">§</a></h2>
<p>Enable Aiven Kafka for your Naisjob.</p>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">kafka</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">pool</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nav-dev</span><span class="w"></span>
<span class="w">    </span><span class="nt">streams</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="kafkapool">kafka.pool<a class="headerlink" href="#kafkapool" title="Permanent link">§</a></h3>
<p>Configures your application to access an Aiven Kafka cluster.</p>
<p>Type: <code>enum</code><br />
Required: <code>true</code><br />
Allowed values: <code>nav-dev</code>, <code>nav-infrastructure</code>, <code>nav-prod</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">kafka</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">pool</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nav-dev</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="kafkastreams">kafka.streams<a class="headerlink" href="#kafkastreams" title="Permanent link">§</a></h3>
<p>Allow this app to use kafka streams</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://doc.nais.io/persistence/kafka/application/#using-kafka-streams-with-internal-topics">https://doc.nais.io/persistence/kafka/application/#using-kafka-streams-with-internal-topics</a></li>
</ul>
<p>Type: <code>boolean</code><br />
Required: <code>false</code><br />
Default value: <code>false</code><br />
Availability: GCP<br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">kafka</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">streams</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="liveness">liveness<a class="headerlink" href="#liveness" title="Permanent link">§</a></h2>
<p>Many Naisjobs running for long periods of time eventually transition to broken states, and cannot recover except by being restarted. Kubernetes provides liveness probes to detect and remedy such situations. Read more about this over at the <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/">Kubernetes probes documentation</a>.</p>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">liveness</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">failureThreshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">    </span><span class="nt">initialDelay</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span><span class="w"></span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/isalive</span><span class="w"></span>
<span class="w">    </span><span class="nt">periodSeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span><span class="w"></span>
<span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8080</span><span class="w"></span>
<span class="w">    </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="livenessfailurethreshold">liveness.failureThreshold<a class="headerlink" href="#livenessfailurethreshold" title="Permanent link">§</a></h3>
<p>When a Pod starts, and the probe fails, Kubernetes will try <em>failureThreshold</em> times before giving up. Giving up in case of a startup probe means restarting the Pod.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br />
Default value: <code>3</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">liveness</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">failureThreshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="livenessinitialdelay">liveness.initialDelay<a class="headerlink" href="#livenessinitialdelay" title="Permanent link">§</a></h3>
<p>Number of seconds after the container has started before startup probes are initiated.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">liveness</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">initialDelay</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="livenesspath">liveness.path<a class="headerlink" href="#livenesspath" title="Permanent link">§</a></h3>
<p>HTTP endpoint path that signals 200 OK if the application has started successfully.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">liveness</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/isalive</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="livenessperiodseconds">liveness.periodSeconds<a class="headerlink" href="#livenessperiodseconds" title="Permanent link">§</a></h3>
<p>How often (in seconds) to perform the probe.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br />
Default value: <code>10</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">liveness</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">periodSeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="livenessport">liveness.port<a class="headerlink" href="#livenessport" title="Permanent link">§</a></h3>
<p>Port for the startup probe.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">liveness</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8080</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="livenesstimeout">liveness.timeout<a class="headerlink" href="#livenesstimeout" title="Permanent link">§</a></h3>
<p>Number of seconds after which the probe times out.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br />
Default value: <code>1</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">liveness</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="logformat">logformat<a class="headerlink" href="#logformat" title="Permanent link">§</a></h2>
<p>Format of the logs from the container. Use this if the container doesn't support JSON logging and the log is in a special format that need to be parsed.</p>
<p>Type: <code>enum</code><br />
Required: <code>false</code><br />
Allowed values: <em>(empty string)</em>, <code>accesslog</code>, <code>accesslog_with_processing_time</code>, <code>accesslog_with_referer_useragent</code>, <code>capnslog</code>, <code>glog</code>, <code>gokit</code>, <code>influxdb</code>, <code>log15</code>, <code>logrus</code>, <code>redis</code>, <code>simple</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">logformat</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">accesslog_with_referer_useragent</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="logtransform">logtransform<a class="headerlink" href="#logtransform" title="Permanent link">§</a></h2>
<p>Extra filters for modifying log content. This can e.g. be used for setting loglevel based on http status code.</p>
<p>Type: <code>enum</code><br />
Required: <code>false</code><br />
Allowed values: <code>dns_loglevel</code>, <code>http_loglevel</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">logtransform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http_loglevel</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="maskinporten">maskinporten<a class="headerlink" href="#maskinporten" title="Permanent link">§</a></h2>
<p>Configures a Maskinporten client for this Naisjob. See <a href="https://doc.nais.io/security/auth/maskinporten/">Maskinporten</a> for more details.</p>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">maskinporten</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">    </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">consumes</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">skatt:scope.read</span><span class="w"></span>
<span class="w">      </span><span class="nt">exposes</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">allowedIntegrations</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">maskinporten</span><span class="w"></span>
<span class="w">          </span><span class="nt">atMaxAge</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">          </span><span class="nt">consumers</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">KST</span><span class="w"></span>
<span class="w">              </span><span class="nt">orgno</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;123456789&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scope.read</span><span class="w"></span>
<span class="w">          </span><span class="nt">product</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arbeid</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="maskinportenenabled">maskinporten.enabled<a class="headerlink" href="#maskinportenenabled" title="Permanent link">§</a></h3>
<p>If enabled, provisions and configures a Maskinporten client with consumed scopes and/or Exposed scopes with DigDir.</p>
<p>Type: <code>boolean</code><br />
Required: <code>true</code><br />
Default value: <code>false</code><br />
Availability: team namespaces<br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">maskinporten</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="maskinportenscopes">maskinporten.scopes<a class="headerlink" href="#maskinportenscopes" title="Permanent link">§</a></h3>
<p>Schema to configure Maskinporten clients with consumed scopes and/or exposed scopes.</p>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">maskinporten</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">consumes</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">skatt:scope.read</span><span class="w"></span>
<span class="w">      </span><span class="nt">exposes</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">allowedIntegrations</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">maskinporten</span><span class="w"></span>
<span class="w">          </span><span class="nt">atMaxAge</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">          </span><span class="nt">consumers</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">KST</span><span class="w"></span>
<span class="w">              </span><span class="nt">orgno</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;123456789&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scope.read</span><span class="w"></span>
<span class="w">          </span><span class="nt">product</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arbeid</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="maskinportenscopesconsumes">maskinporten.scopes.consumes<a class="headerlink" href="#maskinportenscopesconsumes" title="Permanent link">§</a></h4>
<p>This is the Schema for the consumes and exposes API. <code>consumes</code> is a list of scopes that your client can request access to.</p>
<p>Type: <code>array</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">maskinporten</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">consumes</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">skatt:scope.read</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="maskinportenscopesconsumesname">maskinporten.scopes.consumes[].name<a class="headerlink" href="#maskinportenscopesconsumesname" title="Permanent link">§</a></h5>
<p>The scope consumed by the application to gain access to an external organization API. Ensure that the NAV organization has been granted access to the scope prior to requesting access.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://doc.nais.io/security/auth/maskinporten/#consume-scopes">https://doc.nais.io/security/auth/maskinporten/#consume-scopes</a></li>
</ul>
<p>Type: <code>string</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">maskinporten</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">consumes</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">skatt:scope.read</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="maskinportenscopesexposes">maskinporten.scopes.exposes<a class="headerlink" href="#maskinportenscopesexposes" title="Permanent link">§</a></h4>
<p><code>exposes</code> is a list of scopes your application want to expose to other organization where access to the scope is based on organization number.</p>
<p>Type: <code>array</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">maskinporten</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">exposes</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">allowedIntegrations</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">maskinporten</span><span class="w"></span>
<span class="w">          </span><span class="nt">atMaxAge</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">          </span><span class="nt">consumers</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">KST</span><span class="w"></span>
<span class="w">              </span><span class="nt">orgno</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;123456789&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scope.read</span><span class="w"></span>
<span class="w">          </span><span class="nt">product</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arbeid</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="maskinportenscopesexposesallowedintegrations">maskinporten.scopes.exposes[].allowedIntegrations<a class="headerlink" href="#maskinportenscopesexposesallowedintegrations" title="Permanent link">§</a></h5>
<p>Whitelisting of integration's allowed. Default is <code>maskinporten</code></p>
<p>Relevant information:</p>
<ul>
<li><a href="https://docs.digdir.no/maskinporten_guide_apitilbyder.html#scope-begrensninger">https://docs.digdir.no/maskinporten_guide_apitilbyder.html#scope-begrensninger</a></li>
</ul>
<p>Type: <code>array</code><br />
Required: <code>false</code><br />
Default value: <code>maskinporten</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">maskinporten</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">exposes</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">allowedIntegrations</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">maskinporten</span><span class="w"></span>
<span class="w">          </span><span class="nt">atMaxAge</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">          </span><span class="nt">consumers</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">KST</span><span class="w"></span>
<span class="w">              </span><span class="nt">orgno</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;123456789&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scope.read</span><span class="w"></span>
<span class="w">          </span><span class="nt">product</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arbeid</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="maskinportenscopesexposesatmaxage">maskinporten.scopes.exposes[].atMaxAge<a class="headerlink" href="#maskinportenscopesexposesatmaxage" title="Permanent link">§</a></h5>
<p>Max time in seconds for a issued access_token. Default is <code>30</code> sec.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br />
Default value: <code>30</code><br />
Value range: <code>30</code>-<code>680</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">maskinporten</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">exposes</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">allowedIntegrations</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">maskinporten</span><span class="w"></span>
<span class="w">          </span><span class="nt">atMaxAge</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">          </span><span class="nt">consumers</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">KST</span><span class="w"></span>
<span class="w">              </span><span class="nt">orgno</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;123456789&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scope.read</span><span class="w"></span>
<span class="w">          </span><span class="nt">product</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arbeid</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="maskinportenscopesexposesconsumers">maskinporten.scopes.exposes[].consumers<a class="headerlink" href="#maskinportenscopesexposesconsumers" title="Permanent link">§</a></h5>
<p>External consumers granted access to this scope and able to request access_token.</p>
<p>Type: <code>array</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">maskinporten</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">exposes</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">allowedIntegrations</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">maskinporten</span><span class="w"></span>
<span class="w">          </span><span class="nt">atMaxAge</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">          </span><span class="nt">consumers</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">KST</span><span class="w"></span>
<span class="w">              </span><span class="nt">orgno</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;123456789&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scope.read</span><span class="w"></span>
<span class="w">          </span><span class="nt">product</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arbeid</span><span class="w"></span>
</code></pre></div>
</details>
<h6 id="maskinportenscopesexposesconsumersname">maskinporten.scopes.exposes[].consumers[].name<a class="headerlink" href="#maskinportenscopesexposesconsumersname" title="Permanent link">§</a></h6>
<p>This is a describing field intended for clarity not used for any other purpose.</p>
<p>Type: <code>string</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">maskinporten</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">exposes</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">allowedIntegrations</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">maskinporten</span><span class="w"></span>
<span class="w">          </span><span class="nt">atMaxAge</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">          </span><span class="nt">consumers</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">KST</span><span class="w"></span>
<span class="w">              </span><span class="nt">orgno</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;123456789&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scope.read</span><span class="w"></span>
<span class="w">          </span><span class="nt">product</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arbeid</span><span class="w"></span>
</code></pre></div>
</details>
<h6 id="maskinportenscopesexposesconsumersorgno">maskinporten.scopes.exposes[].consumers[].orgno<a class="headerlink" href="#maskinportenscopesexposesconsumersorgno" title="Permanent link">§</a></h6>
<p>The external business/organization number.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br />
Pattern: <code>^\d{9}$</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">maskinporten</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">exposes</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">allowedIntegrations</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">maskinporten</span><span class="w"></span>
<span class="w">          </span><span class="nt">atMaxAge</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">          </span><span class="nt">consumers</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">KST</span><span class="w"></span>
<span class="w">              </span><span class="nt">orgno</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;123456789&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scope.read</span><span class="w"></span>
<span class="w">          </span><span class="nt">product</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arbeid</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="maskinportenscopesexposesenabled">maskinporten.scopes.exposes[].enabled<a class="headerlink" href="#maskinportenscopesexposesenabled" title="Permanent link">§</a></h5>
<p>If Enabled the configured scope is available to be used and consumed by organizations granted access.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://doc.nais.io/naisjob/reference/#maskinportenscopesexposesconsumers">https://doc.nais.io/naisjob/reference/#maskinportenscopesexposesconsumers</a></li>
</ul>
<p>Type: <code>boolean</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">maskinporten</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">exposes</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">allowedIntegrations</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">maskinporten</span><span class="w"></span>
<span class="w">          </span><span class="nt">atMaxAge</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">          </span><span class="nt">consumers</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">KST</span><span class="w"></span>
<span class="w">              </span><span class="nt">orgno</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;123456789&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scope.read</span><span class="w"></span>
<span class="w">          </span><span class="nt">product</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arbeid</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="maskinportenscopesexposesname">maskinporten.scopes.exposes[].name<a class="headerlink" href="#maskinportenscopesexposesname" title="Permanent link">§</a></h5>
<p>The actual subscope combined with <code>Product</code>. Ensure that <code>&lt;Product&gt;&lt;Name&gt;</code> matches <code>Pattern</code>.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br />
Default value: <code>false</code><br />
Pattern: <code>^([a-zæøå0-9]+\/?)+(\:[a-zæøå0-9]+)*[a-zæøå0-9]+(\.[a-zæøå0-9]+)*$</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">maskinporten</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">exposes</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">allowedIntegrations</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">maskinporten</span><span class="w"></span>
<span class="w">          </span><span class="nt">atMaxAge</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">          </span><span class="nt">consumers</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">KST</span><span class="w"></span>
<span class="w">              </span><span class="nt">orgno</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;123456789&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scope.read</span><span class="w"></span>
<span class="w">          </span><span class="nt">product</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arbeid</span><span class="w"></span>
</code></pre></div>
</details>
<h5 id="maskinportenscopesexposesproduct">maskinporten.scopes.exposes[].product<a class="headerlink" href="#maskinportenscopesexposesproduct" title="Permanent link">§</a></h5>
<p>The product-area your application belongs to e.g. arbeid, helse ... This will be included in the final scope <code>nav:&lt;Product&gt;&lt;Name&gt;</code>.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br />
Pattern: <code>^[a-z0-9]+$</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">maskinporten</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">scopes</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">exposes</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">allowedIntegrations</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">maskinporten</span><span class="w"></span>
<span class="w">          </span><span class="nt">atMaxAge</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">          </span><span class="nt">consumers</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">KST</span><span class="w"></span>
<span class="w">              </span><span class="nt">orgno</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;123456789&quot;</span><span class="w"></span>
<span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scope.read</span><span class="w"></span>
<span class="w">          </span><span class="nt">product</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arbeid</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="opensearch">openSearch<a class="headerlink" href="#opensearch" title="Permanent link">§</a></h2>
<p>To get your own OpenSearch instance head over to the IaC-repo to provision each instance. See <a href="https://github.com/navikt/aiven-iac">navikt/aiven-iac</a> repository.</p>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">openSearch</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">access</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">readwrite</span><span class="w"></span>
<span class="w">    </span><span class="nt">instance</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-open-search-instance</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="opensearchaccess">openSearch.access<a class="headerlink" href="#opensearchaccess" title="Permanent link">§</a></h3>
<p>Access level for OpenSearch user</p>
<p>Type: <code>enum</code><br />
Required: <code>false</code><br />
Allowed values: <code>admin</code>, <code>read</code>, <code>readwrite</code>, <code>write</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">openSearch</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">access</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">readwrite</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="opensearchinstance">openSearch.instance<a class="headerlink" href="#opensearchinstance" title="Permanent link">§</a></h3>
<p>Configure your application to access your OpenSearch instance. Use the <code>instance_name</code> that you specified in the <a href="https://github.com/navikt/aiven-iac">navikt/aiven-iac</a> repository.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">openSearch</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">instance</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-open-search-instance</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="parallelism">parallelism<a class="headerlink" href="#parallelism" title="Permanent link">§</a></h2>
<p>For running pods in parallel. If it is specified as 0, then the Job is effectively paused until it is increased.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://kubernetes.io/docs/concepts/workloads/controllers/job/#controlling-parallelism">https://kubernetes.io/docs/concepts/workloads/controllers/job/#controlling-parallelism</a></li>
</ul>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br />
Default value: <code>1</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">parallelism</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="prestophook">preStopHook<a class="headerlink" href="#prestophook" title="Permanent link">§</a></h2>
<p>PreStopHook is called immediately before a container is terminated due to an API request or management event such as liveness/startup probe failure, preemption, resource contention, etc. The handler is not called if the container crashes or exits by itself. The reason for termination is passed to the handler.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://doc.nais.io/naisjob/#handles-termination-gracefully">https://doc.nais.io/naisjob/#handles-termination-gracefully</a></li>
<li><a href="https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/#container-hooks">https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/#container-hooks</a></li>
</ul>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">preStopHook</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">exec</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">command</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./my</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">--shell</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">script</span><span class="w"></span>
<span class="w">    </span><span class="nt">http</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/internal/stop</span><span class="w"></span>
<span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8080</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="prestophookexec">preStopHook.exec<a class="headerlink" href="#prestophookexec" title="Permanent link">§</a></h3>
<p>Command that should be run inside the main container just before the pod is shut down by Kubernetes.</p>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">preStopHook</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">exec</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">command</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./my</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">--shell</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">script</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="prestophookexeccommand">preStopHook.exec.command<a class="headerlink" href="#prestophookexeccommand" title="Permanent link">§</a></h4>
<p>Command is the command line to execute inside the container before the pod is shut down. The command is not run inside a shell, so traditional shell instructions (pipes, redirects, etc.) won't work. To use a shell, you need to explicitly call out to that shell. 
 If the exit status is non-zero, the pod will still be shut down, and marked as <code>Failed</code>.</p>
<p>Type: <code>array</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">preStopHook</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">exec</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">command</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./my</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">--shell</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">script</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="prestophookhttp">preStopHook.http<a class="headerlink" href="#prestophookhttp" title="Permanent link">§</a></h3>
<p>HTTP GET request that is called just before the pod is shut down by Kubernetes.</p>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">preStopHook</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">http</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/internal/stop</span><span class="w"></span>
<span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8080</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="prestophookhttppath">preStopHook.http.path<a class="headerlink" href="#prestophookhttppath" title="Permanent link">§</a></h4>
<p>Path to access on the HTTP server.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">preStopHook</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">http</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/internal/stop</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="prestophookhttpport">preStopHook.http.port<a class="headerlink" href="#prestophookhttpport" title="Permanent link">§</a></h4>
<p>Port to access on the container. Defaults to application port, as defined in <code>.spec.port</code>.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br />
Value range: <code>1</code>-<code>65535</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">preStopHook</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">http</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8080</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="readiness">readiness<a class="headerlink" href="#readiness" title="Permanent link">§</a></h2>
<p>Sometimes, Naisjobs are temporarily unable to serve traffic. For example, an Naisjob might need to load large data or configuration files during startup, or depend on external services after startup. In such cases, you don't want to kill the Naisjob, but you don’t want to send it requests either. Kubernetes provides readiness probes to detect and mitigate these situations. A pod with containers reporting that they are not ready does not receive traffic through Kubernetes Services. Read more about this over at the <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/">Kubernetes readiness documentation</a>.</p>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">readiness</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">failureThreshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">    </span><span class="nt">initialDelay</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span><span class="w"></span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/isready</span><span class="w"></span>
<span class="w">    </span><span class="nt">periodSeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span><span class="w"></span>
<span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8080</span><span class="w"></span>
<span class="w">    </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="readinessfailurethreshold">readiness.failureThreshold<a class="headerlink" href="#readinessfailurethreshold" title="Permanent link">§</a></h3>
<p>When a Pod starts, and the probe fails, Kubernetes will try <em>failureThreshold</em> times before giving up. Giving up in case of a startup probe means restarting the Pod.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">readiness</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">failureThreshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="readinessinitialdelay">readiness.initialDelay<a class="headerlink" href="#readinessinitialdelay" title="Permanent link">§</a></h3>
<p>Number of seconds after the container has started before startup probes are initiated.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">readiness</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">initialDelay</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="readinesspath">readiness.path<a class="headerlink" href="#readinesspath" title="Permanent link">§</a></h3>
<p>HTTP endpoint path that signals 200 OK if the application has started successfully.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">readiness</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/isready</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="readinessperiodseconds">readiness.periodSeconds<a class="headerlink" href="#readinessperiodseconds" title="Permanent link">§</a></h3>
<p>How often (in seconds) to perform the probe.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">readiness</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">periodSeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="readinessport">readiness.port<a class="headerlink" href="#readinessport" title="Permanent link">§</a></h3>
<p>Port for the startup probe.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">readiness</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8080</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="readinesstimeout">readiness.timeout<a class="headerlink" href="#readinesstimeout" title="Permanent link">§</a></h3>
<p>Number of seconds after which the probe times out.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">readiness</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="resources">resources<a class="headerlink" href="#resources" title="Permanent link">§</a></h2>
<p>When Containers have <a href="http://kubernetes.io/docs/user-guide/compute-resources/">resource requests</a> specified, the Kubernetes scheduler can make better decisions about which nodes to place pods on.</p>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">resources</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">limits</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">500m</span><span class="w"></span>
<span class="w">      </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">512Mi</span><span class="w"></span>
<span class="w">    </span><span class="nt">requests</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">200m</span><span class="w"></span>
<span class="w">      </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">256Mi</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="resourceslimits">resources.limits<a class="headerlink" href="#resourceslimits" title="Permanent link">§</a></h3>
<p>Limit defines the maximum amount of resources a container can use before getting evicted.</p>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">resources</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">limits</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">500m</span><span class="w"></span>
<span class="w">      </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">512Mi</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="resourceslimitscpu">resources.limits.cpu<a class="headerlink" href="#resourceslimitscpu" title="Permanent link">§</a></h4>
<p>Type: <code>string</code><br />
Required: <code>false</code><br />
Default value: <code>500m</code><br />
Pattern: <code>^\d+m?$</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">resources</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">limits</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">500m</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="resourceslimitsmemory">resources.limits.memory<a class="headerlink" href="#resourceslimitsmemory" title="Permanent link">§</a></h4>
<p>Type: <code>string</code><br />
Required: <code>false</code><br />
Default value: <code>512Mi</code><br />
Pattern: <code>^\d+[KMG]i$</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">resources</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">limits</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">512Mi</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="resourcesrequests">resources.requests<a class="headerlink" href="#resourcesrequests" title="Permanent link">§</a></h3>
<p>Request defines the amount of resources a container is allocated on startup.</p>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">resources</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">requests</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">200m</span><span class="w"></span>
<span class="w">      </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">256Mi</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="resourcesrequestscpu">resources.requests.cpu<a class="headerlink" href="#resourcesrequestscpu" title="Permanent link">§</a></h4>
<p>Type: <code>string</code><br />
Required: <code>false</code><br />
Default value: <code>200m</code><br />
Pattern: <code>^\d+m?$</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">resources</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">requests</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">200m</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="resourcesrequestsmemory">resources.requests.memory<a class="headerlink" href="#resourcesrequestsmemory" title="Permanent link">§</a></h4>
<p>Type: <code>string</code><br />
Required: <code>false</code><br />
Default value: <code>256Mi</code><br />
Pattern: <code>^\d+[KMG]i$</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">resources</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">requests</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">256Mi</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="restartpolicy">restartPolicy<a class="headerlink" href="#restartpolicy" title="Permanent link">§</a></h2>
<p>RestartPolicy describes how the container should be restarted. Only one of the following restart policies may be specified. If none of the following policies is specified, the default one is Never. Read more about <a href="https://kubernetes.io/docs/concepts/workloads/controllers/job/#handling-pod-and-container-failures">Kubernetes handling pod and container failures</a></p>
<p>Type: <code>enum</code><br />
Required: <code>false</code><br />
Default value: <code>Never</code><br />
Allowed values: <code>Never</code>, <code>OnFailure</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">restartPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Never</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="schedule">schedule<a class="headerlink" href="#schedule" title="Permanent link">§</a></h2>
<p>The <a href="https://en.wikipedia.org/wiki/Cron">Cron</a> schedule for running the Naisjob. If not specified, the Naisjob will be run as a one-shot Job.</p>
<p>Type: <code>string</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">schedule</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;*/15</span><span class="nv"> </span><span class="s">0</span><span class="nv"> </span><span class="s">0</span><span class="nv"> </span><span class="s">0</span><span class="nv"> </span><span class="s">0&#39;</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="securelogs">secureLogs<a class="headerlink" href="#securelogs" title="Permanent link">§</a></h2>
<p>Whether or not to enable a sidecar container for secure logging.</p>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">secureLogs</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="securelogsenabled">secureLogs.enabled<a class="headerlink" href="#securelogsenabled" title="Permanent link">§</a></h3>
<p>Whether to enable a sidecar container for secure logging. If enabled, a volume is mounted in the pods where secure logs can be saved.</p>
<p>Type: <code>boolean</code><br />
Required: <code>true</code><br />
Default value: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">secureLogs</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="skipcabundle">skipCaBundle<a class="headerlink" href="#skipcabundle" title="Permanent link">§</a></h2>
<p>Whether to skip injection of NAV certificate authority bundle or not. Defaults to false.</p>
<p>Type: <code>boolean</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">skipCaBundle</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="startup">startup<a class="headerlink" href="#startup" title="Permanent link">§</a></h2>
<p>Kubernetes uses startup probes to know when a container application has started. If such a probe is configured, it disables liveness and readiness checks until it succeeds, making sure those probes don't interfere with the application startup. This can be used to adopt liveness checks on slow starting containers, avoiding them getting killed by Kubernetes before they are up and running.</p>
<p>Type: <code>object</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">startup</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">failureThreshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
<span class="w">    </span><span class="nt">initialDelay</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span><span class="w"></span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/started</span><span class="w"></span>
<span class="w">    </span><span class="nt">periodSeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span><span class="w"></span>
<span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8080</span><span class="w"></span>
<span class="w">    </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="startupfailurethreshold">startup.failureThreshold<a class="headerlink" href="#startupfailurethreshold" title="Permanent link">§</a></h3>
<p>When a Pod starts, and the probe fails, Kubernetes will try <em>failureThreshold</em> times before giving up. Giving up in case of a startup probe means restarting the Pod.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">startup</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">failureThreshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="startupinitialdelay">startup.initialDelay<a class="headerlink" href="#startupinitialdelay" title="Permanent link">§</a></h3>
<p>Number of seconds after the container has started before startup probes are initiated.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">startup</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">initialDelay</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="startuppath">startup.path<a class="headerlink" href="#startuppath" title="Permanent link">§</a></h3>
<p>HTTP endpoint path that signals 200 OK if the application has started successfully.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">startup</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/started</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="startupperiodseconds">startup.periodSeconds<a class="headerlink" href="#startupperiodseconds" title="Permanent link">§</a></h3>
<p>How often (in seconds) to perform the probe.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">startup</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">periodSeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="startupport">startup.port<a class="headerlink" href="#startupport" title="Permanent link">§</a></h3>
<p>Port for the startup probe.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">startup</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8080</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="startuptimeout">startup.timeout<a class="headerlink" href="#startuptimeout" title="Permanent link">§</a></h3>
<p>Number of seconds after which the probe times out.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">startup</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="successfuljobshistorylimit">successfulJobsHistoryLimit<a class="headerlink" href="#successfuljobshistorylimit" title="Permanent link">§</a></h2>
<p>Specify how many completed Jobs should be kept.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br />
Default value: <code>3</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">successfulJobsHistoryLimit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="ttlsecondsafterfinished">ttlSecondsAfterFinished<a class="headerlink" href="#ttlsecondsafterfinished" title="Permanent link">§</a></h2>
<p>Specify the number of seconds to wait before removing the Job after it has finished (either Completed or Failed). If the field is unset, this Job won't be cleaned up by the TTL controller after it finishes.</p>
<p>Type: <code>integer</code><br />
Required: <code>false</code><br />
Availability: on-premises<br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">ttlSecondsAfterFinished</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="vault">vault<a class="headerlink" href="#vault" title="Permanent link">§</a></h2>
<p>Provides secrets management, identity-based access, and encrypting application data for auditing of secrets for applications, systems, and users.</p>
<p>Relevant information:</p>
<ul>
<li><a href="https://github.com/navikt/vault-iac/tree/master/doc">https://github.com/navikt/vault-iac/tree/master/doc</a></li>
</ul>
<p>Type: <code>object</code><br />
Required: <code>false</code><br />
Availability: on-premises<br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">vault</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">    </span><span class="nt">paths</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">env</span><span class="w"></span>
<span class="w">        </span><span class="nt">kvPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/kv/preprod/fss/application/namespace</span><span class="w"></span>
<span class="w">        </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/secrets/nais.io/vault</span><span class="w"></span>
<span class="w">    </span><span class="nt">sidecar</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="vaultenabled">vault.enabled<a class="headerlink" href="#vaultenabled" title="Permanent link">§</a></h3>
<p>If set to true, fetch secrets from Vault and inject into the pods.</p>
<p>Type: <code>boolean</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">vault</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="vaultpaths">vault.paths<a class="headerlink" href="#vaultpaths" title="Permanent link">§</a></h3>
<p>List of secret paths to be read from Vault and injected into the pod's filesystem. Overriding the <code>paths</code> array is optional, and will give you fine-grained control over which Vault paths that will be mounted on the file system. 
 By default, the list will contain an entry with 
 <code>kvPath: /kv/&lt;environment&gt;/&lt;zone&gt;/&lt;application&gt;/&lt;namespace&gt;</code> <code>mountPath: /var/run/secrets/nais.io/vault</code> 
 that will always be attempted to be mounted.</p>
<p>Type: <code>array</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">vault</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">paths</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">env</span><span class="w"></span>
<span class="w">        </span><span class="nt">kvPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/kv/preprod/fss/application/namespace</span><span class="w"></span>
<span class="w">        </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/secrets/nais.io/vault</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="vaultpathsformat">vault.paths[].format<a class="headerlink" href="#vaultpathsformat" title="Permanent link">§</a></h4>
<p>Format of the secret that should be processed.</p>
<p>Type: <code>enum</code><br />
Required: <code>false</code><br />
Allowed values: <em>(empty string)</em>, <code>env</code>, <code>flatten</code>, <code>json</code>, <code>properties</code>, <code>yaml</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">vault</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">paths</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">env</span><span class="w"></span>
<span class="w">        </span><span class="nt">kvPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/kv/preprod/fss/application/namespace</span><span class="w"></span>
<span class="w">        </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/secrets/nais.io/vault</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="vaultpathskvpath">vault.paths[].kvPath<a class="headerlink" href="#vaultpathskvpath" title="Permanent link">§</a></h4>
<p>Path to Vault key/value store that should be mounted into the file system.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">vault</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">paths</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">env</span><span class="w"></span>
<span class="w">        </span><span class="nt">kvPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/kv/preprod/fss/application/namespace</span><span class="w"></span>
<span class="w">        </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/secrets/nais.io/vault</span><span class="w"></span>
</code></pre></div>
</details>
<h4 id="vaultpathsmountpath">vault.paths[].mountPath<a class="headerlink" href="#vaultpathsmountpath" title="Permanent link">§</a></h4>
<p>File system path that the secret will be mounted into.</p>
<p>Type: <code>string</code><br />
Required: <code>true</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">vault</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">paths</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">env</span><span class="w"></span>
<span class="w">        </span><span class="nt">kvPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/kv/preprod/fss/application/namespace</span><span class="w"></span>
<span class="w">        </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/secrets/nais.io/vault</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="vaultsidecar">vault.sidecar<a class="headerlink" href="#vaultsidecar" title="Permanent link">§</a></h3>
<p>If enabled, the sidecar will automatically refresh the token's Time-To-Live before it expires.</p>
<p>Type: <code>boolean</code><br />
Required: <code>false</code><br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">vault</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">sidecar</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h2 id="webproxy">webproxy<a class="headerlink" href="#webproxy" title="Permanent link">§</a></h2>
<p>Inject on-premises web proxy configuration into the job container. Most Linux applications should auto-detect these settings from the <code>$HTTP_PROXY</code>, <code>$HTTPS_PROXY</code> and <code>$NO_PROXY</code> environment variables (and their lowercase counterparts). Java applications can start the JVM using parameters from the <code>$JAVA_PROXY_OPTIONS</code> environment variable.</p>
<p>Type: <code>boolean</code><br />
Required: <code>false</code><br />
Availability: on-premises<br /></p>
<details class="example">
<summary>Example</summary>
<div class="codehilite"><pre><span></span><code><span class="nt">spec</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">webproxy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details></main>
            
            
        </div>
    </div>

    

        <footer class="py-3 mt-3 border-top">
    

        
        <p class="text-center">
            
        </p>
        <p class="text-center">
            <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> and modified <a href="https://sourcefoundry.org/cinder/">Cinder theme</a></small>
        </p>
        

        

    
</footer>


    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../../js/bootstrap.bundle.min.js"></script>

    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.0/build/highlight.min.js"></script>
        

    <script>hljs.highlightAll();</script>
    

    <script>var base_url = "../.."</script>

    

    <script src="../../js/base.js"></script>
    <script src="../../search/main.js"></script>

    <div class="modal fade" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <span class="modal-title" id="searchModalLabel">Search documentation modal</span>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close search documentation modal"></button>
            </div>
            <div class="modal-header">
                <form autocomplete="off" class="flex-fill">
                    <div class="form-group">
                        <label class="form-label" id="search-input-label" for="mkdocs-search-query">Search for:</label>
                        <input type="search" class="form-control" placeholder="Type to start searching ..." id="mkdocs-search-query"
                            title="Type search term here" aria-labelledby="search-input-label">

                        <span class="form-text" role="status" id="mkdocs-search-results-info">
                            
                        </span>
                    </div>
                </form>
            </div>
            <div class="modal-body">
                <div aria-label="Search results" id="mkdocs-search-results">
                    
                </div>
            </div>
            <div class="modal-footer"></div>
        </div>
    </div>
</div>
    <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>

